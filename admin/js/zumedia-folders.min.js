var $m1=function(e){var t={mods:{ignoreNext:!1,consoleDir:!1,forseNil:!1},colors:{same:!1,trace:!1,info:!1,data:!1,render:!1,use:!1}},n="#a79635",i="#e56a17",a="#1f993f",o="#0091ff",r="#0070c9",d="#a79635",l="#e50039",s="#cc0096",c="#ffffff",f="#ffd580",u="#e50039",p="#ff2020";function m(n,i,a){var o=n[0],r=n[1]||"",d=n[2]||"",l=i[0],m=i[1]||"",v=i[2]||null,h=t.colors.info?console.info:console.log;o.startsWith("?")&&(l=p),o.startsWith("!")&&(l=s),o.startsWith("#")&&(v=u,m=f,l=c),t.colors.same&&(m=l);var g=v?`font-weight: normal; padding: 3px 0 3px 3px; background: ${v}; color: ${l}`:`font-weight: normal; color: ${l}`,C=v?`font-weight: bold; padding: 3px 0 3px 3px; background: ${v}; color: ${m}`:`font-weight: bold; color: ${m}`,b=v?`font-weight: normal; padding: 3px 10px 3px 0; background: ${v}; color: ${l}`:`font-weight: normal; color: ${l}`;o=v?o.trim():o,r=v?r.trim():r,d=v?d.trim():d,o.startsWith("!")&&(o=o.replace(/^!/,""),g=g.replace("normal","bold"),b=b.replace("normal","bold"),h=console.info),o.startsWith("?")&&(o=o.replace(/^\?/,""),g=g.replace("normal","bold"),b=b.replace("normal","bold")),o.startsWith("#")&&(o=o.replace(/^#/," ★★★ ").replace(/[.]+$/,""),g=g.replace("normal","bold"),b=b.replace("normal","bold"),r?d&&(d+=" ★★★ "):o+=" ★★★ "),t.mods.forseNil||void 0!==a?t.mods.consoleDir?(r&&m?h("%c%s%c%s%c%s%c",g,o,C,r,g,d,v?b:""):h("%c%s ",g,o),console.dir(a)):r&&m?h("%c%s%c%s%c%s%c",g,o,C,r,g,d,v?b:"",a):h("%c%s ",g,o,a):r&&m?h("%c%s%c%s%c%s%c",g,o,C,r,g,d,v?b:""):h("%c%s ",g,o),t.colors=e.mapValues(t.colors,(function(){return!1})),t.mods=e.mapValues(t.mods,(function(){return!1}))}return{log:function(s,c){if(e.isString(s)||void 0!==c||(c=s,s="!"),s){s=s.trim();var f=[(v=n,t.colors.info?r:t.colors.data?d:t.colors.trace?l:t.colors.render?a:t.colors.use?o:v),i,null],u=/\[\s*([^\]]+)]/i;if(u.test(s)){var p=u.exec(s);m([s.replace(p[0],"[ "),p[1]," ]"],f,c)}else m([s],f,c)}var v}}},$m2=function(e){var t,n="mfs-",i=24,a={plus:"M17,12.981 L17,11 L13,11 L13,7 L11,7 L11,11 L7,11 L7,13 L11,13 L11,17 L13,17 L13,13 L17,13 z M17.433,5.002 Q18.053,5.002 18.526,5.475 Q19,5.949 19,6.569 L19,17.433 Q19,18.053 18.526,18.526 Q18.053,19 17.433,19 L6.568,19 Q5.912,19 5.456,18.544 Q5,18.088 5,17.432 L5,6.568 Q5,5.912 5.456,5.456 Q5.912,5 6.568,5 L17.433,5 z",minus:"M17,13 L17,11 L7,11 L7,13 L17,13 z M17.433,5.002 Q18.053,5.002 18.526,5.475 Q19,5.949 19,6.569 L19,17.433 Q19,18.053 18.526,18.526 Q18.053,19 17.433,19 L6.568,19 Q5.912,19 5.456,18.544 Q5,18.088 5,17.432 L5,6.568 Q5,5.912 5.456,5.456 Q5.912,5 6.568,5 L17.433,5 z",closed:"M9.984 3.984l2.016 2.016h8.016q0.797 0 1.383 0.609t0.586 1.406v9.984q0 0.797-0.586 1.406t-1.383 0.609h-16.031q-0.797 0-1.383-0.609t-0.586-1.406v-12q0-0.797 0.586-1.406t1.383-0.609h6z",opened:"M20.016 18v-9.984h-16.031v9.984h16.031zM20.016 6q0.797 0 1.383 0.609t0.586 1.406v9.984q0 0.797-0.586 1.406t-1.383 0.609h-16.031q-0.797 0-1.383-0.609t-0.586-1.406v-12q0-0.797 0.586-1.406t1.383-0.609h6l2.016 2.016h8.016z",home:{size:80,paths:[{id:"border",d:"M55.996,35.996 C63.996,35.996 67.996,59.996 67.996,59.996 L11.996,59.996 C11.996,59.996 16,43.996 23.999,43.996 C32.002,43.996 31.998,47.996 37.998,47.996 C43.998,47.996 47.997,35.996 55.996,35.996 z M55.996,39.996 C53.476,39.996 51.113,42.584 48.605,45.332 C45.761,48.456 42.546,51.996 37.994,51.996 C34.139,51.996 31.902,50.708 30.115,49.676 C28.495,48.736 27.219,47.996 23.995,47.996 C21.767,47.996 19.284,51.864 17.547,56 L63.112,56 C61.076,47.212 57.797,40.2 55.996,39.996 z M26,23.996 C29.308,23.996 32,26.688 32,29.996 C32,33.304 29.308,35.996 26,35.996 C22.692,35.996 20,33.304 20,29.996 C20,26.688 22.692,23.996 26,23.996 z M26,19.996 L26,19.996 C20.476,19.996 16,24.472 16,29.996 C16,35.52 20.476,39.996 26,39.996 C31.524,39.996 36,35.52 36,29.996 C36,24.472 31.524,19.996 26,19.996 z"},{id:"sunset",d:"M26.022,38.702 C21.225,38.702 17.335,34.813 17.335,30.016 C17.335,25.218 21.225,21.329 26.022,21.329 C30.819,21.329 34.708,25.218 34.708,30.016 C34.708,34.813 30.819,38.702 26.022,38.702 z M56.973,38.702 C54.211,38.702 51.635,40.03 48.886,43.395 C45.769,47.221 42.693,50.883 37.704,50.883 C33.477,50.883 31.376,49.151 29.417,47.888 C27.641,46.737 26.161,46.69 22.627,46.69 C20.185,46.69 16.957,51.834 15.054,56.898 L64.994,56.898 C62.763,46.137 58.946,39.052 56.973,38.802",color:"#DA2C41",className:"accent"},{id:"frame",d:"M71.999,8 C76.416,8 80,11.584 80,16 L80,64.001 C80,68.417 76.416,72 71.999,72 L8,72 C3.584,72 0,68.417 -0,64.001 L-0,16 C0,11.584 3.584,8 8,8 L71.999,8 z M72.012,16 L8,16 L8,64.001 L72,64.001 L72.012,16 z"}]},close:{origin:-2,size:24,paths:[{d:"M14.95 6.46L11.41 10l3.54 3.54-1.41 1.41L10 11.42l-3.53 3.53-1.42-1.42L8.58 10 5.05 6.47l1.42-1.42L10 8.58l3.54-3.53z"}]}},o={zu:'<path d="M300,32.352 L300,24.141 C300,10.808 289.191,-0 275.859,-0 L24.141,-0 C10.809,-0 0,10.808 0,24.141 L0,459.451 L600,459.451 L600,56.493 C600,43.16 589.191,32.352 575.859,32.352 L300,32.352" fill="#FBE36F" id="back"/>\n\t\t<path d="M26.636,67.138 L578.972,67.138 L578.972,463.866 L26.636,463.866 z" fill="#FFFFFF" id="paper"/>\n\t\t<path d="M291.443,114.664 L282.536,139.358 L24.141,139.358 C10.809,139.358 0,150.166 0,163.499 L0,470.859 C0,484.192 10.809,495 24.141,495 L575.859,495 C589.191,495 600,484.192 600,470.859 L600,122.855 C600,109.522 589.191,98.714 575.859,98.714 L314.152,98.714 C303.978,98.714 294.895,105.093 291.443,114.664" fill="#F6D33D" id="cover"/>\n\t\t<path d="M600,470.859 L600,270.468 C433.343,432.574 144.274,475.949 6.712,487.534 C11.106,492.126 17.283,495 24.141,495 L575.858,495 C589.191,495 600,484.191 600,470.859" fill="#F1C73F" id="dark"/>\n\t\t<path d="M243.654,158.788 L39.632,158.788 C28.866,158.788 20.139,167.516 20.139,178.282 L20.139,221.462 C54.457,197.951 131.896,168.335 243.654,158.788" fill="#F8DC47" id="light"/>',mac:'<path d="M88.022,-0 C66.716,-0 58.037,9.476 58.037,30.793 L58.037,30.793 C58.037,50.775 35.858,43.707 33.073,72.642 L33.073,72.642 L567.644,72.642 C566.73,56.015 560.414,47.376 540.169,47.376 L540.169,47.376 L278.983,47.376 C270.305,47.376 256.888,45.794 256.888,32.372 L256.888,32.372 C256.888,10.262 249.786,-0 225.327,-0 L225.327,-0 z" fill="#F1C73F" id="dark"/>\n\t\t<path d="M30.724,72.642 C6.649,72.642 -1.448,87.693 0.215,106.072 L0.215,106.072 C0.215,106.072 7.735,188.725 10.205,238.461 L10.205,238.461 C12.658,288.205 15.341,461.014 15.341,461.014 L15.341,461.014 C15.341,492.231 14.935,494.768 49.661,494.768 L49.661,494.768 L551.3,495 C584.067,495 585.068,495.168 585.068,461.61 L585.068,461.61 C585.068,461.61 585.559,331.953 590.182,258.589 L590.182,258.589 C594.806,185.251 599.875,106.153 599.875,106.153 L599.875,106.153 C601.049,87.713 593.718,72.642 568.473,72.642 L568.473,72.642 z" fill="#F6D33C" id="cover"/>\n\t\t<path d="M504.449,72.642 C385.243,87.638 268.682,120.878 157.637,166.424 C107.025,187.184 57.347,210.512 10.197,238.311 C7.744,194.173 4.205,150.096 0.215,106.072 C-1.448,87.694 6.648,72.642 30.723,72.642 L504.449,72.642 z" fill="#FBE36E" id="light"/>',simple:'<path d="M540,60 L270,60 L210,0 L60,0 C27,0 0,27 0,60 L0,180 L600,180 L600,120 C600,87 573,60 540,60 z" fill="#F1C73F" id="dark"/>\n\t\t<path d="M600,470.859 C600,484.192 589.191,495 575.859,495 L540.004,495 L540,495 L60,495 L59.996,495 L24.141,495 C10.809,495 0,484.192 0,470.859 L0,120 C0,87 27,60 60,60 L540,60 C573,60 600,87 600,120 L600,470.859 z" fill="#F6D33C" id="cover"/>\n\t\t<path d="M402,60 C401.333,60 402,60 402,60 L60,70 C32.523,70 10,92.523 10,120 L0,420 L0,420 L0,120 C0,87 27,60 60,60 L402,60 z" fill="#FFFFFF" fill-opacity="0.5" id="border"/>',open:'<path d="M566.381,49.868 L290.862,49.868 C290.862,49.868 280.043,34.578 272.124,23.53 C264.206,12.484 257.07,-0 238.504,-0 L141.634,-0 C123.068,-0 108.015,4.965 108.015,23.53 L108.015,49.868 L95.703,49.868 C77.135,49.868 62.083,64.92 62.083,83.483 L62.083,461.383 C62.083,479.948 77.135,495 95.703,495 L566.381,495 C584.947,495 599.999,479.948 599.999,461.383 L599.999,83.483 C599.999,64.92 584.947,49.868 566.381,49.868" fill="#F1C73F" id="dark"/>\n\t\t<path d="M92.342,74.518 L569.744,74.518 L569.744,477.343 L92.342,477.343 z" fill="#FFFFFE" id="paper"/>\n\t\t<path d="M0.424,131.602 C-2.518,115.237 10.153,101.972 28.718,101.972 L499.398,101.972 C517.964,101.972 535.402,115.237 538.343,131.602 L599.576,465.368 C602.518,481.731 589.849,495 571.282,495 L100.604,495 C82.037,495 64.601,481.731 61.659,465.368 L0.424,131.602" fill="#F6D33C" id="cover"/>',pack:'<path d="M292.165,35.218 L292.165,14.277 C292.165,6.425 285.736,0 277.879,0 L64.07,0 C56.213,0 49.784,6.425 49.784,14.277 L49.784,35.218 C49.784,35.218 32.15,35.218 27.174,35.218 C22.199,35.218 13.73,41.643 13.594,49.494 L14.553,449.728 C14.417,457.578 20.736,464.014 28.593,464.02 L574.44,464.02 C582.297,464.028 588.644,457.625 588.547,449.775 L586.401,49.494 C586.304,41.641 579.797,35.218 571.94,35.218 L292.165,35.218 z" fill="#F1C73F" id="dark"/>\n\t\t<path d="M557.493,457.86 L42.504,457.86 L41.076,52.489 L558.921,52.489 z" fill="#EAEAEA" id="paper"/>\n\t\t<path d="M557.493,461.86 L42.504,461.86 L32.504,75.05 L567.493,75.05 z" fill="#D5D5D5" id="paper-dark"/>\n\t\t<path d="M587.87,480.755 C587.733,488.608 581.196,495.019 573.338,495 L27.49,495 C19.633,494.98 12.259,487.607 12.123,479.758 L-0,114.274 C-0.136,106.423 6.181,100 14.039,100 L585.958,100 C593.816,100 600.133,106.425 599.996,114.276 L587.87,480.755 z" fill="#F6D33C" id="cover"/>'},r={home:function(){return d("home",a.home,!0)},close:function(){return d("close",a.close,!0)}};function d(t,i,a){var o=[],r=void 0!==i.origin?i.origin:0;return e.each(i.paths||[],(function(t){var n=e.has(t,"color")?` fill=${t.color}`:"",i=e.has(t,"className")?` class=${t.className}`:"",a=e.has(t,"id")?` id=${t.id}`:"";o.push(`<path d="${t.d}"${a}${n}${i}></path>`)})),a?e.join(o,""):`<symbol viewBox="${r} ${r} ${i.size} ${i.size}" id="${n}${t}">\n\t\t\t\t${e.join(o,"")}\n\t\t\t</symbol>`}function l(t,o){if(!e.has(!0===o?a:r,t))return"";var d=function(t){return e.has(a,t)&&a[t].size?[void 0!==a[t].origin?a[t].origin:0,a[t].size]:[0,i]}(t),l=!0===o?`<use href="#${n}${t}"></use>`:r[t]();return`<svg\n\t\t\t\tclass="${n}svg ${n}${t}"\n\t\t\t\trole="img"\n\t\t\t\taria-labelledby="title"\n\t\t\t\tviewBox="${d[0]} ${d[0]} ${d[1]} ${d[1]}"\n\t\t\t\tpreserveAspectRatio="xMidYMin slice"\n\t\t\t>\n\t\t\t\t${l}\n\t\t\t</svg>`}return{collection:function(){var t=[];return e.each(a||[],(function(a,o){t.push(e.isString(a)?function(e,t){return`<symbol viewBox="0 0 ${i} ${i}" id="${n}${e}"><path d="${t}"></path></symbol>`}(o,a):d(o,a))})),`<svg style="display:none;" xmlns="http://www.w3.org/2000/svg">${e.join(t,"")}</svg>`},svg:l,icon:function(e){return l(e,!0)},folders:(t={},e.each(o,(function(n,i){t[i]=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0,0,600,495"><g>${e.trim(n).replace(/>\s+</gm,"><")}</g></svg>`})),t)}},$m3=function(e,$,t,n,i){var a=n.prefix,o=e.options,r=`${a}-tree`,d=`${a}-node`,l=`${a}-row`,s=`${a}-holder`,c=`${a}-expandable`,f=`${a}-item`,u=`${a}-icon`,p=`#${r}`,m=`> .${d}`,v=`.${l}`,h=`> .${l} > .${c}`,g=`> .${l} > .${u}`,C=`> .${l} > .${f}`,b=`.${u}`;n.tree_item=f,i.tree=p;var w=$();function L(){return 0===(w=$(p)).length}function x(){var t=$(F(0,0,e.lang.rootTree||"Root",!0,!0));t.addClass("mfs-root").find(v).addClass("mfs-root-row").end().find(h).remove(),o.hide_root&&t.find(v).hide(),o.root_icon&&t.find(`${g} > div`).html(e.$ic.svg("home")),w.append(t),B(0)}function _(e){return w.find(`li[data-id="${e}"]`)}function y(e,t){if(void 0!==t&&t.prevIndex!==t.nextIndex)if(-1===t.beforeId){var n=e.data("parent_id");e.prependTo(_(n).find(m))}else e.insertAfter(_(t.beforeId))}function k(e,n){if(!L()){var i=[];t.each(n||[],(function(t){i.push(F(t.id,t.parentId,t.name,t.id===e,0==t.children,t.meta))})),_(e).find(v).after(`<ul class="${d}" style="display: none;">\n\t\t\t\t${t.join(i,"")}\n\t\t\t</ul>`),function(e){if(L())return;t.each(e||[],(function(e){B(e.id)}))}(n)}}function F(t,n,i,a,o,r){return`<li class="${`collapsed${!0===a?" selected":""} ${e.$do.colorClass(r)}`}" data-id="${t}" data-parent_id="${n}">\n\t\t\t\t<div class="${l}">\n\t\t\t\t\t<div class="${c}" data-id="${t}" data-parent_id="${n}" data-type="dir" ${`style="opacity:${o?0:1};"`}>\n\t\t\t\t\t\t<div class="${s}">${e.$ic.icon("minus")}${e.$ic.icon("plus")}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="${u} ${!0===a?"opened":"closed"}">\n\t\t\t\t\t\t<div class="${s}">${e.$ic.icon("opened")}${e.$ic.icon("closed")}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<a class="${f}" data-id="${t}" data-parent_id="${n}" data-type="dir">${i}</a>\n\t\t\t\t</div>\n\t\t\t</li>`}function M(e){_(e).removeClass("wait").removeClass("collapsed").addClass("expanded").find(m).slideDown(o.anim_speed,o.anim_easing,(function(){$(this).trigger("afteropen"),$(this).trigger("afterupdate")}))}function z(e){_(e).removeClass("expanded").addClass("collapsed").find(m).slideUp(o.anim_speed,o.anim_easing,(function(){$(this).trigger("afterclose"),$(this).trigger("afterupdate")}))}function I(e){L()||(w.find("li").removeClass("selected"),w.find(b).removeClass("opened").addClass("closed"),_(e).addClass("selected").find(g).removeClass("closed").addClass("opened"))}function A(e,t){_(e).find(h).css({opacity:t?1:0})}function B(t){_(t).find(C).off("click").on("click",(function(t){t.preventDefault(),t.stopPropagation();var n=$(this).data("id");e.$ca.selected(n)})),_(t).find(h).off("click").on("click",(function(e){e.preventDefault(),e.stopPropagation();var t=$(this).parents("li"),n=t.data("id");t.hasClass("collapsed")?M(n):z(n)}))}function D(t){for(var n=e.$ca.withParents();n;)M(n.id),n=n.parent;I(t)}return{init:function(){if(L()){var t=`${e.$ic.collection()}<ul id="${r}" class="${d}${o.colored_tree?" __colors":""}"></ul>`;e.isPost?$(".media-menu").append(t):$(i.browser).before(t),function(){if(L())return;x(),e.$ca.walk((function(e){k(e.id,e.children),A(e.id,null!==e.children&&e.children.length>0)})),e.$dd.updateTree(),D(o.selectedId||0)}()}},root:x,add:k,append:function(e,t,n,i,a){var o=F(e,t,n);(void 0===a?_(t).find(m):_(a).parent()).append(o),y(_(e),i),B(e)},remove:function(e){_(e).remove()},rename:function(e,t,n){var i=_(e);i.find(C).html(t),y(i,n)},color:function(t,n){_(t).mfsAlterClass("folders-*",e.$do.colorClass(n))},wait:function(e){_(e).addClass("wait")},expand:M,collapse:z,select:I,open:D,icon:A,isWaiting:function(e){var t=_(e);return t.hasClass("expanded")||t.hasClass("wait")}}},$m4=function(e,$,t,n,i){var a=`${n.prefix}-categories`,o=`${n.prefix}-media-category`,r=`${i.frame} .${a}`,d=`${i.frame} select.${a} option`,l=null;function s(e){return $(`${d}[data-id="${e}"]`)}function c(){var t=$(r);e.$ca.walk((function(e){t.append(s(e.id))}))}function f(){var t=$(this).find("option:selected").data("id")||0;e.$ca.onChange(t)}return{remove:function(e){s(e).remove()},rename:function(t,n,i){s(t).html(e.options.category_shift.repeat(i.depth)+n),c()},move:c,select:function(e,t){$(d).prop("selected",!1);var n=s(e);n.prop("selected",!0),t&&n.parent().trigger("change")},refresh:function(n){$(r).find("option").each((function(){var t=$(this),n=t.val();t.attr("data-id",n),t.attr("data-parent_id",e.$ca.parentOf(n))})),c(),e.isGrid?($(r).off("change",f).on("change",f),function(n){if(n&&null!==l&&(l.disconnect(),l=null),null===l){var a=window.MutationObserver||window.WebKitMutationObserver;l=new a((function(e){var n=!1;e.forEach((function(e){-1===t.findIndex(e.addedNodes,r)&&-1===t.findIndex(e.removedNodes,r)||(n=!0)})),n&&$(i.attachments_wrapper).trigger("updated")}));var o=$(i.attachments_wrapper);if(0===o.length)return l.disconnect(),void(l=null);l.observe(o[0],{childList:!0,subtree:!0,attributes:!1,characterData:!1}),o.off("updated").on("updated",(function(){e.$dd.updateItems()}))}function r(e){return e.tagName&&"li"===e.tagName.toLowerCase()&&t.includes(e.classList,"attachment")}}(n)):(e.$dd.updateItems(),$(r).on("change",(function(){$(this).parents("form").trigger("submit")})))},destroy:function(){$(r).remove()},params:{name:a,id:o}}},$m5=function(e,$,t,n,i){var a=e.options.icons,o=["red","yellow","gold","magenta","green","wp","blue","default"],r=e.isBoxedMode?"":e.$ic.folders[a.svg]||"",d=e.isBoxedMode?"":` ${a.svg}`,l=`${n.prefix}-folder`,s=`${n.prefix}-folder-preview`,c=e.isBoxedMode?"__boxed":"__svg",f=`${n.prefix}-back`,u=`__back icon dashicons ${a.back}`,p=`${n.prefix}-icon`,m=`${n.prefix}-locked`,v=e.isBoxedMode?`${p} icon dashicons ${a.folder}`:`${p} ${n.prefix}-folder-svg ${a.svg}`,h=`${n.prefix}-folder-name`,g=`${n.prefix}-actions`,C=`${n.prefix}-actions-holder`,b=`__edit dashicons ${a.edit}`,w=`__delete dashicons ${a.delete}`,L=`__color dashicons ${a.color}`,x=`__lock dashicons ${a.lock}`,_=`__lock dashicons ${a.unlock}`,y=`${n.prefix}-colors`,k=`__locked dashicons ${a.lock}`,F=`${i.frame} .${l}`,M=`li.${l}`,z=`.${f}`,I=`.${s}`,A=`.${p}`,B=".__locked",D=`.${h} > div`,N=`.${g}`,G=`.${g} .__edit`,P=`.${g} .__delete`,T=`.${g} .__color`,E=`.${g} .__lock`,Q=`#${y}`;function q(e){return $(`${F}[data-id="${e}"]`)}function j(e,t){if(void 0!==t&&t.prevIndex!==t.nextIndex)if(-1===t.beforeId){var n=$(F).filter(z);0===n.length?e.prependTo($(i.browser)):e.insertAfter(n)}else e.insertAfter(q(t.beforeId))}function O(){return`\n\t\t\t<div class="${g}${d}">\n\t\t\t\t<div class="${C}">\n\t\t\t\t\t<span class="${x}"></span>\n\t\t\t\t\t<span class="${L}"></span>\n\t\t\t\t\t<span class="${b}"></span>\n\t\t\t\t\t<span class="${w}"></span>\n\t\t\t\t</div>\n\t\t\t</div>`}function U(t){var n=`<li class="${l} ${f}" data-id="${t}" style="display:none;">\n\t\t\t\t<div class="${s} ${c}">\n\t\t\t\t\t<div class="${u}"></div>\n\t\t\t\t\t<div class="${k}"></div>\n\t\t\t\t\t<div class="${h}">\n\t\t\t\t\t\t<div>${e.lang.backButton}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</li>`;$(n).appendTo($(i.browser)).fadeIn("fast"),R(t)}function S(t,n,a,o,d,f){a=void 0===a?0:a,$(i.browser).append(`<li class="${l}" data-id="${t}" data-parent_id="${a}" style="display:none;">\n\t\t\t\t<div class="${s} ${c} ${e.$do.colorClass(f)}">\n\t\t\t\t\t<div class="${v}">${r}</div>\n\t\t\t\t\t<div class="${k}"></div>\n\t\t\t\t\t<div class="${h}">\n\t\t\t\t\t\t<div>${n}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t${O()}\n\t\t\t\t </div>\n\t\t\t</li>`),j(q(t).fadeIn("fast"),d),W(t,f),o&&R(t)}function W(e,t){var n=!(!t||!t.lock);q(e).toggleClass(m,n).find(E).removeClass().addClass(n?_:x)}function R(n){var i=$(void 0===n?F:`${F}[data-id="${n}"]`);i.off("click").on("click",(function(t){t.preventDefault(),t.stopPropagation();var n=$(this);n.hasClass("ui-draggable-dragging")||n.parents(M).hasClass("ui-draggable-dragging")||e.$ca.selected(n.data("id"))})),i.find(G).off("click").on("click",(function(t){t.preventDefault(),t.stopPropagation();var n=$(this).parents(M);e.$us.promptName(n.find(D).html(),(function(t){var i=n.data("id"),a=n.data("parent_id");e.$ax.editFolder(i,a,t)}),`id=${n.data("id")}`)})),i.find(P).off("click").on("click",(function(t){t.preventDefault(),t.stopPropagation();var n=$(this).parents(M),i=n.find(D).text();e.$us.confirmDelete(i,(function(){var t=n.data("id"),i=n.data("parent_id");e.$ax.deleteFolder(t,i)}))})),i.find(T).off("click").on("click",(function(n){n.preventDefault(),n.stopPropagation();var i=$(this).parents(M),a=function(){var n=$(Q);if(0===n.length){var i=t.map(o,(function(e){return`<span class="${"default"===e?"dashicons dashicons-no-alt":`bg-${e}`}" data-value="${e}"></span>`}));(n=$(`<div id="${y}" class="__tools __colors${d}" style="display: none;">${i.join("")}</div>`)).appendTo("body"),n.on("click",(function(e){e.preventDefault(),e.stopPropagation()})),n.on("click","span",(function(t){t.preventDefault(),t.stopPropagation();var n=$(this).data("value"),i=$(Q).parents(M).data("id");e.$ax.metaFolder(i,"color","default"===n?null:n),$(Q).slideUp(300)}))}return n}();i.has(a).length?a.is(":visible")?a.slideUp(300):a.slideDown("fast"):(a.appendTo(i.find(I)).slideDown("fast"),i.on("mouseleave",(function(){a.fadeOut("fast")})))})),i.find(E).off("click").on("click",(function(t){t.preventDefault(),t.stopPropagation();var n=$(this).parents(M),i=n.data("id"),a=n.hasClass(m);e.$ax.metaFolder(i,"lock",!a)}))}return n.folder=l,i.folder=F,i.back=z,i.preview=I,i.preview_name=D,{addBack:U,add:S,remove:function(e){q(e).fadeOut("fast",(function(){$(this).remove()}))},rename:function(e,t,n){var i=q(e);i.find(D).html(t),j(i,n)},color:function(t,n){q(t).find(I).mfsAlterClass("folders-*",e.$do.colorClass(n))},lock:W,init:function(n){if(n&&0!==n.length){var i=$(F).not(z);t.each(n,(function(t,n){if(n<i.length){var a=!(!t.meta||!t.meta.lock),o=$(i[n]);o.attr("data-id",t.id).data("id",t.id).attr("data-parent_id",t.parentId).data("parent_id",t.parentId).removeClass(m).find(I).mfsAlterClass("folders-*",e.$do.colorClass(t)).end().find(D).html(t.name).end().find(E).removeClass().addClass(a?_:x),setTimeout((function(){o.find(B).show(),o.toggleClass(m,a)}),300)}else S(t.id,t.name,t.parentId,void 0,void 0,t.meta)})),R(),e.$dd.updateWithoutTree()}},clear:function(t,n){var i=0!==t,a=e.$ca.parentOf(t),o=$(F),d=o.filter(z);e.$dd.clean(o),o.find(B).hide(),o.length>(i?n+1:n)&&o.slice(i?n+1:n,o.length).fadeOut("fast",(function(){$(this).remove()})),!i&&d.length&&function(e){e.removeClass(f).find(".__back").removeClass().addClass(v).html(r).parent().append(O())}(d),i&&(0===o.length?U(a):function(t,n,i){n&&n.length?n.attr("data-id",t).data("id",t):i.attr("data-id",t).data("id",t).removeClass(m).addClass(f).find(A).removeClass().addClass(u).html(null).end().find(D).html(e.lang.backButton).end().find(N).remove()}(a,d,o.first()))},bindClicks:R}},$m6=function(e,$,t){var n="mfs",i=e.options.color||"wp",a=".mfs-wrapper",o=".mfs-browser",r=".mfs-breadcrumb",d=e.isGrid?".attachments-wrapper ul.attachments":"table.wp-list-table",l=e.isGrid?".media-frame:visible":"",s="td .media-icon",c={prefix:n},f={wrapper:a,browser:o,attachments_wrapper:d,attachments:e.isGrid?`${d} .attachment`:`${d} td .media-icon`,frame:l,table_icon:s},u=`&nbsp;&nbsp;<span class="dashicons ${e.options.icons.breadcrumb}"></span>&nbsp;&nbsp;`,p=`<span class="dashicons ${e.options.icons.home}"></span>&nbsp;&nbsp;`;return $.fn.mfsAlterClass=function(e,n){var i=this;if(!e||-1===e.indexOf("*"))return i.removeClass(e),n?i.addClass(n):i;var a=new RegExp("\\s"+e.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g");return i.each((function(e,n){for(var i=" "+n.className+" ";a.test(i);)i=i.replace(a," ");n.className=t.trim(i)})),n?i.addClass(n):i},{cs:c,ds:f,tree:$m3(e,$,t,c,f),cat:$m4(e,$,t,c,f),box:$m5(e,$,t,c,f),colorClass:function(e){return void 0===e?`folders-${i}`:e.meta?`folders-${e.meta.color||i}`:`folders-${e.color||i}`},wrapAll:function(){var t=e.isGrid?$(l):$(document);if(0===t.find(".mfs-wrapper:visible .mfs-browser").length){t.find(".mfs-browser, .mfs-breadcrumb").remove(),t.find(e.isGrid?d:".tablenav.top").before('<ul class="mfs-browser"></ul>\n\t\t\t\t<div class="mfs-clear"></div>');var n=e.isGrid?`${d}, .mfs-browser, .mfs-clear`:".mfs-browser, .mfs-clear";return t.find(n).wrapAll(`<div class="mfs-wrapper __${e.isBoxedMode?"boxed":"svg"}-mode"></div>`),t.find(a).prepend('<ul class="mfs-breadcrumb"></ul>'),!0}return!1},addButton:function(n){if(!e.isPost){var i=$();0===$("#mfs-add-folder").length&&(i=$(`<button\n\t\t\t\t\tid="mfs-add-folder"\n\t\t\t\t\ttype="button"\n\t\t\t\t\tclass="button media-button button-secondary${e.isGrid?"":" __table"}"\n\t\t\t\t\t>${e.lang.createFolder}</button>`),e.isGrid?$(`${l} .media-frame-content .media-toolbar-secondary .spinner`).before(i):$(".wp-filter .actions").after(i)),i.length&&t.isFunction(n)&&i.on("click",n)}},alterBreadcrumb:function(){for(var t=e.$ca.withParents(),n="",i=t.id;t;){var a=0===t.id?e.lang.rootTree:t.name,o=`<a data-id="${t.id}"${t.id===i?' class="selected"':""}>${a}</a>`;n=`<li>${0===t.id?p:u}${o}</li>${n}`,t=t.parent}$(r).html(null).prepend(n).find("a").on("click",(function(){var t=$(this).data("id");e.$ca.selected(t)}))},inlineUploader:function(){function n(){var e=$(".media-frame .uploader-inline");e.length&&e.css({marginTop:$(o).outerHeight(!0)+$(r).outerHeight(!0),opacity:1})}e.isPost&&($(window).on("resize",t.throttle(n,100)),n())},fixURL:function(){if(e.isGrid){var t=$(".media-grid-view-switch .view-list");if(t.length){var n=t.attr("href")||"",i=n.split("?");if(i.length>=2){for(var a=encodeURIComponent("zumedia_folders")+"=",o=i[1].split(/[&;]/g),r=o.length;r-- >0;)-1!==o[r].lastIndexOf(a,0)&&o.splice(r,1);n=i[0]+(o.length>0?"?"+o.join("&"):""),t.attr("href",n)}}}},moveAttachments:function(t){e.isGrid?$(".media-toolbar-mode-select .select-mode-toggle-button").trigger("click"):($.each(t.split(","),(function(e,t){$(`#the-list #post-${t}`).hide()})),$('#the-list input[name="media[]"]').prop("checked",!1))}}},$m7=function(e,$){var t=e.$ca,n=null,i=null,a=null,o=null,r=null,d={modal:!1,edit:!1};function l(){return!("undefined"==typeof wp||void 0===wp.media)}function s(){return l()&&void 0!==wp.media.frame}function c(){return s()?wp.media.frame.content.get():null}function f(e){var t=c(),n=e&&s()?wp.media.frame.library:null;return null!==t?t.collection||null:n||null}function u(e){e&&(o=n.AttachmentsBrowser),n.AttachmentsBrowser=e?a:o}function p(){$("#menu-item-gallery-edit").trigger("click")}function m(){var n={};t.walk((function(t,i){n[t.id]={text:e.options.category_shift.repeat(i)+t.name,props:{term_id:t.id,[e.query_marker]:!0}}})),this.filters=n}return String.prototype.repeat=function(e){var t="",n=this.valueOf();if(e<1)return t;for(;e>1;)1&e&&(t+=n),e>>=1,n+=n;return t+n},{init:function(){return!!l()&&(n=wp.media.view,i=wp.media.controller,!0)},invalidateQuery:function(){var e=f(!0);null!==e&&e.props.set({updated:+new Date})},resetSelection:function(){var e=c(),t=null===e?void 0:e.options.selection;t&&t.reset()},addCategoryFilter:function(){null!==n&&(n.AttachmentFilters.Folders=null,n.AttachmentFilters.Folders=n.AttachmentFilters.extend({className:`${e.$do.cat.params.name} attachment-filters`,id:e.$do.cat.params.id,createFilters:m}),function(){function e(e){e.toolbar.set("media-folders",new n.AttachmentFilters.Folders({controller:e.controller,model:e.collection.props,priority:-75}).render())}null===a&&(a=n.AttachmentsBrowser),r?e(r):n.AttachmentsBrowser=n.AttachmentsBrowser.extend({createToolbar:function(){wp.media.model.Query.defaultArgs.filterSource="filter-attachment-category",a.prototype.createToolbar.apply(this,arguments),r=this,e(this)}})}())},onBrowserReady:function(){null!==n&&n.AttachmentsBrowser.prototype.on("ready",(function(){e.$do.fixURL(),e.refreshFolders()}))},onGalleryEditMode:function(){var e=wp.media.controller.GalleryEdit;wp.media.controller.GalleryEdit=wp.media.controller.GalleryEdit.extend({activate:function(){d.edit=!0,u(!0),e.prototype.activate.apply(this,arguments)},deactivate:function(){d.edit=!1,u(!1),e.prototype.deactivate.apply(this,arguments)}})},onUploaderEvents:function(){var t=wp.Uploader;void 0!==t&&void 0!==t.queue&&(t.queue.on("reset",(function(){var t=f();t&&t.trigger("reset",t),e.$ca.invalidate()})),t.queue.on("add",(function(e){var t=wp.media.frame.content;t&&("upload"===t.mode()&&t.mode("browse"),t.get("autoSelect")&&(t.get("selection").collection.add(e),wp.media.frame.trigger("library:selection:add")))})))},onModal:function(){var e=n.Modal;n.Modal=n.Modal.extend({open:function(){e.prototype.open.apply(this,arguments),d.modal=!0,!1===d.edit&&p()},close:function(){e.prototype.close.apply(this,arguments),d.modal=!1}})},onCollectionEdit:function(){var e=i.CollectionEdit;i.CollectionEdit=i.CollectionEdit.extend({activate:function(){e.prototype.activate.apply(this,arguments)},deactivate:function(){e.prototype.deactivate.apply(this,arguments)}})},extendLibrary:function(){if(null!==i){var e=wp.media.controller.Library;wp.media.controller.Library=wp.media.controller.Library.extend({refreshContent:function(){e.prototype.refreshContent.apply(this,arguments)}})}}}},$m8=function(e,$,t){var n=e.$do.cs,i=e.$do.ds,a=`${n.prefix}-dragging-over`,o=`${n.prefix}-dragging-count`,r=`${n.prefix}-dragging-stack`,d="is-droppable",l=n.folder,s=n.tree_item,c=".is-droppable",f=`.${o}`,u=`.${s}`,p=i.frame,m=i.tree,v=i.wrapper,h=i.browser,g=i.attachments,C=i.attachments_wrapper,b=i.table_icon,w=i.folder,L=i.back,x=i.preview,_=i.preview_name,y={revert:!0,distance:1,containment:e.isGrid?".media-frame-content":"#posts-filter",start:function(e,t){M(t,!0),$(this).draggable("instance").offset.click=z(t.helper)},stop:function(e,t){M(t,!1)},drag:function(t,n){!function(t){var n=(e.isGrid?$(`${p} ${m}`):$(m)).add(u).hasClass(d);t.helper.toggleClass(a,n)}(n)},animate:{duration:200,easing:"swing"}};function k(e){if(void 0!==$.ui){var t=$(void 0===e?w:`${w}[data-id="${e}"]`).not(L);t.length>0&&(B(t,"draggable"),t.draggable({revert:y.revert,distance:y.distance,containment:y.containment,cursorAt:z(t),helper:"clone",drag:y.drag,start:y.start,stop:y.stop}))}}function F(n,i){if(void 0!==$.ui){var o=t.isNil(n)?[w,u]:[`${w}[data-id="${n}"]`,`${u}[data-id="${n}"]`],r=$(o[0]).not(L).add(i?null:o[1]);(r=r.add(t.isNil(n)&&!i?m:null)).length>0&&(B(r,"droppable"),r.droppable({hoverClass:d,accept:function(t){if($(this).is(m))return!0;var n=$(this).data("id");if(t.hasClass(l)){var i=t.data("id"),a=t.data("parent_id"),o=$(this).data("parent_id");return i!==n&&i!==o&&a!==n}return!(!t.hasClass("attachment")&&!t.hasClass("media-icon"))&&n!==e.$ca.id()},over:function(){I(this,!0)},out:function(){I(this,!1)},drop:function(n,i){var o=$(this);if(I(this,!1),!function(e,t){var n=$(m);if(e.is(n))return 0===n.children().find(c).length&&t.helper.removeClass(a),!0;return!1}(o,i)){var r=o.data("id"),d=i.draggable.data("id");if(i.draggable.hasClass(l)){var s=i.draggable.find(_).html();A(null,i,(function(){e.$ax.moveFolder(d,s,r)}))}else{var f=i.helper.data("ids");if(void 0!==f){var u=$();t.each(t.split(f,","),(function(e){u=u.add(`${g}[data-id="${e}"]`)})),A(u,i,(function(){e.$ax.moveFiles(f,r)}))}}}}}))}}function M(n,i){function a(n,i,a){var o=t.isNil(a),r=o?i.data("id"):a,d=$(`${o?w:g}[data-id="${r}"]`);e.isTable&&(d=$(`${C} input[value="${r}"]`).parents("tr").find(b)),d.not(i)[n?"addClass":"removeClass"]("is-dragging")}void 0===n.helper.data("ids")?a(i,n.helper):t.each(n.helper.data("ids").split(",")||[],(function(e){a(i,n.helper,e)}))}function z(e){var t=e.first().width(),n=e.first().height();return{top:Math.floor(t/2),left:Math.floor(n/2)}}function I(e,t){$(e).hasClass(s)&&$(e).prev().toggleClass(d,!!t)}function A(e,t,n){var i=t.helper.clone().appendTo(null===e?h:v);t.helper.hide(),null!==e?(e.find(".check").remove(),i.find(f).animate({opacity:0},{duration:y.animate.duration/2,easing:y.animate.easing,queue:!1,complete:function(){$(this).remove()}}),i.children().first().animate({width:0,height:0},{duration:y.animate.duration,easing:y.animate.easing,queue:!1,complete:function(){i.remove()}}),e.not(t.helper).animate({width:0},{duration:y.animate.duration,easing:y.animate.easing,queue:!1}).promise().done((function(){e.remove(),n()}))):i.find(x).animate({width:0,opacity:0},{duration:y.animate.duration,easing:y.animate.easing,queue:!1}).promise().done((function(){i.remove(),n()}))}function B(e,n){var i=t.isNil(e)?$(".ui-draggable").add(".ui-droppable").not(".ui-draggable-dragging"):e.not(".ui-draggable-dragging");void 0!==n&&"draggable"!==n||i.filter((function(){return $(this).draggable("instance")})).draggable("destroy"),void 0!==n&&"droppable"!==n||i.filter((function(){return $(this).droppable("instance")})).droppable("destroy")}return{clean:e.isPost?t.noop:B,update:e.isPost?t.noop:function(e){k(e),F(e)},updateTree:e.isPost?t.noop:function(){F()},updateWithoutTree:e.isPost?t.noop:function(){k(),F(null,!0)},updateItems:e.isPost?t.noop:function(){if(void 0!==$.ui){var t=$(g).not(".uploading");t.length>0&&(B(t,"draggable"),t.draggable({revert:y.revert,distance:y.distance,containment:y.containment,cursorAt:z(t),appendTo:v,helper:function(){var n=t.parents("tr").find('input[name="media[]"]:checked').parents("tr").find(b),i=$(this).add(e.isGrid?t.filter(".selected"):n),a=[];return i.each((function(){
var t=$(this).parents("tr").find('input[name="media[]"]').val();a.push(e.isGrid?$(this).data("id"):t)})),function(t,n){var i=t.first(),a=t.length>1?`<div class="${o}"><span>${t.length}</span></div>`:null,d=e.isGrid?t.find(".attachment-preview"):t,l=$("<div></div>").addClass("attachment").width(i.width()).height(i.height()).addClass(r).append(d.slice(0,3).clone()).append(a).wrapInner('<div><div class="__stack"></div></div>').data("ids",n.join(","));1===t.length&&l.addClass("__single");return l}(i,a)},drag:y.drag,start:y.start,stop:y.stop}))}}}},$m9=function(e,$,t){var n,i=e.$do,a=[],o={id:0,depth:0,parentId:0,name:e.categories[0].label},r=e.options.selectedId||0,d=null,l=[];function s(e){return t.sortBy(e,["name"])}function c(e,n,i,a,o){void 0===o&&(o={}),t.each(n,(function(r){if("delete"===e){if(r.id===i.id)return o.item=r,t.pull(n,r),0===n.length&&(a.children=null),!1;if(null!==r.children&&(c(e,r.children,i,r,o),void 0!==o.item))return!1}if("update"===e){if(r.id===i.id)return o.prevIndex=t.findIndex(n,{id:i.id}),t.merge(r,i),a.children=s(n),o.nextIndex=t.findIndex(a.children,{id:i.id}),o.beforeId=0===o.nextIndex?-1:a.children[o.nextIndex-1].id,!1;if(null!==r.children){if(o.depth++,c(e,r.children,i,r,o),void 0!==o.beforeId)return!1;o.depth--}}if("add"===e){if(r.id===i.parentId)return null===r.children&&(r.children=[]),r.children.push(t.merge({children:null},i)),r.children=s(r.children),o.nextIndex=t.findIndex(r.children,{id:i.id}),o.beforeId=0===o.nextIndex?-1:r.children[o.nextIndex-1].id,!1;if(null!==r.children&&(c(e,r.children,i,r,o),void 0!==o.beforeId))return!1}if("get"===e){if(r.id===i.id)return o.item=r,!1;if(null!==r.children){if(o.depth++,c(e,r.children,i,r,o),void 0!==o.item)return!1;o.depth--}}if("reverse"===e){if(r.id===i.id)return o.item=t.clone(r),o.item.parent=o.parent,!1;if(null!==r.children){var d=t.clone(r);if(d.parent=o.parent,o.parent=d,o.depth++,c(e,r.children,i,r,o),void 0!==o.item)return!1;o.depth--,o.parent=t.get(o.parent,"parent",null)}}"walk"===e&&(t.isFunction(o.callback)&&o.callback(r,o.depth),null!==r.children&&(o.depth++,c(e,r.children,i,r,o),o.depth--))}))}function f(e,t,n){var i={};return c("add",a,{id:e,parentId:n,name:t},null,i),i}function u(e){var t={};return c("delete",a,{id:e},null,t),t.item}function p(e,t){var n={depth:0};return c("get",a,{id:e},null,n),!0===t?n:n.item}function m(e){return!(!e||!e.children)&&e.children.length>0}function v(e,n){var i;return i=e,!t.isNaN(parseFloat(i))&&isFinite(i)&&(e=parseInt(e,10)),n=t.isNil(n)?h():n,t.isNil(e)?n:e}function h(){return r}function g(n,i){n=t.map(t.castArray(n),(function(e){return v(e)})),l=t.union(l,n),i&&e.$dd.updateItems()}function C(n){e.isGrid&&t.includes(l,n)&&(e.$wm.invalidateQuery(),t.pull(l,n))}return n=e.categories,a=[{id:0,parentId:0,name:e.lang.treeSelect||"No Categories",meta:{},children:null}],t.each(n,(function(e){var t={id:e.id,parentId:e.parent_id,name:e.label,meta:e.meta};0!==e.id&&c("add",a,t,null,{})})),{add:function(t,n,a){var o=f(t,a,n);e.$do.cat.destroy(),e.$wm.addCategoryFilter(),e.$do.cat.refresh(),i.box.add(t,a,n,!0,o),i.tree.append(t,n,a,o),i.tree.icon(n,!0),i.tree.icon(t,!1),e.$dd.update(t)},create:function(){e.$us.promptName((function(t){e.$ax.addFolder(e.$ca.id(),t)}))},remove:function(t,n,a){u(t),i.cat.remove(t),i.box.remove(t),i.tree.remove(t),i.tree.icon(n,a?0:1),e.isGrid&&wp.Uploader.queue.reset()},rename:function(e,t){var n=function(e,t){var n={depth:0};return c("update",a,{id:e,name:t},null,n),n}(e,t);i.cat.rename(e,t,n),i.box.rename(e,t,n),i.tree.rename(e,t,n)},meta:function(e,t,n){!function(e,t){var n={depth:0};c("update",a,{id:e,meta:t},null,n)}(e,n),"color"===t?(i.box.color(e,n),i.tree.color(e,n)):"lock"===t&&i.box.lock(e,n)},move:function(t,n){var a=u(t),o=f(a.id,a.name,n),r=p(a.parentId);i.box.remove(t),i.tree.remove(t),i.tree.append(t,n,a.name,o),i.cat.rename(t,a.name,o),i.tree.icon(n,!0),i.tree.icon(t,m(a)),i.tree.icon(r.id,m(r)),e.$dd.update(t)},moveItems:function(e,t){g([null,t]),i.moveAttachments(e)},get:p,walk:function(e){var n={callback:t.isFunction(e)?e:t.noop,depth:0};c("walk",a,{},null,n)},invalidate:g,id:h,parentOf:function(e){return e=v(e),null!==d&&d.id===e||(d=p(e)||o),d.parentId},withParents:function(e){return function(e,t){var n={depth:0,parent:null};return c("reverse",a,{id:e},null,n),!0===t?n:n.item}(e=v(e))},onChange:function(t){var n;t=v(t),n=v(n=t,0),r!==n&&(e.$ax.selectFolder(n),r=n),e.$wm.resetSelection(),C(t);var a=p(t);i.tree.init(t),i.box.clear(t,m(a)?a.children.length:0),i.box.init(a&&a.children),i.alterBreadcrumb(),i.tree.open(t),e.$dd.updateWithoutTree(),i.inlineUploader()},selected:function(e){var t=v(e);C(t),i.cat.select(t,!0)}}},$m10=function(e,$,t){var n=e.$ca;function i(n,i,o,r){t.merge(n,{nonce:e.ajax_nonce,action:"folders_action"}),$.ajax({type:"POST",url:e.ajaxurl,dataType:"json",data:t.omitBy(n,t.isNull),beforeSend:t.isFunction(o)?o:t.noop,context:r}).done((function(e){!function(e,n){var i=t.get(e,"data");if(!0===t.get(i,"status"))return void(t.isFunction(n)&&n(i));a(i)}(e,i)})).fail((function(e,t,n){a({textStatus:t,errorThrown:n,jqXHR:e})}))}function a(n,i,a){t.isPlainObject(n)&&(i=t.has(n,"message")?n.message:"Unknown error",a=t.has(n,"params")?n.params:[],n=n.status||-1),t.isEmpty(a)||(i=`${i} [ ${t.isArray(a)?t.join(a,","):a} ]`),e.$us.notice(i,"error",!0)}function o(e){n.add(e.id,e.parent_id,e.name)}function r(e){n.rename(e.id,e.name)}function d(e){n.meta(e.id,e.key,e.meta)}function l(e){n.remove(e.id,e.parent_id,e.is_empty)}function s(e){n.move(e.id,e.receiving_id)}function c(e){n.moveItems(e.ids,e.receiving_id)}return{addFolder:function(e,t){i({operation:"add_folder",name:t,parent_id:e},o)},editFolder:function(e,t,n){i({operation:"edit_folder",id:e,name:n,parent_id:t},r)},metaFolder:function(e,t,n){i({operation:"meta_folder",id:e,meta:t,value:n},d)},deleteFolder:function(e,t){i({operation:"delete_folder",id:e,parent_id:t},l)},moveFolder:function(e,t,n){i({operation:"move_folder",id:e,name:t,receiving_id:n},s)},moveFiles:function(e,t){i({operation:"move_files",ids:e,receiving_id:t},c)},selectFolder:function(e){i({operation:"select_folder",id:e},null)}}},$m11=function(e,$,t){var n=`${e.$do.cs.prefix}-dialog`,i=`#${n}`;function a(a,o,r,d,l){var s=$(i);0===s.length&&($("body").append(`<div id="${n}" style="display:none;"><div class="__wrapper"></div></div>`),s=$(i)),s.find(".__wrapper").html(o),s.dialog({autoOpen:!0,title:a,modal:!0,resizable:!1,draggable:!1,closeText:"",focus:l||t.noop,open:function(){$(".ui-dialog").find(".ui-dialog-titlebar-close").append(e.$ic.svg("close"))},buttons:[{text:r||"Ok",class:"zumedia-button is-primary",click:function(){$(this).dialog("close"),t.isFunction(d)&&d(this)}},{text:"Cancel",class:"zumedia-button is-secondary",click:function(){$(this).dialog("close")}}]})}return{confirmDelete:function(t,n){var i=e.lang.deleteAlert.replace("%s",`<strong>${t}</strong>`);a(e.lang.deleteFolder,i,e.lang.delete,n)},promptName:function(n,i,o){t.isFunction(n)&&(i=n,n=null);var r=t.isNil(n),d=t.isNil(o)?"":`<i>[ ${o} ]</i>`,l=`<div class="__field">\n\t\t\t\t<label class="__label" for="__text-control">${r?e.lang.createAlert:e.lang.renameAlert+d}</label>\n\t\t\t\t<input class="__input" type="text" id="__text-control" autofocus="true" value="${n||e.lang.createPrompt}">\n\t\t\t</div>`,s=function(e){var n=$(e).find("#__text-control").val();!t.isEmpty(n)&&t.isFunction(i)&&i(n)};a(r?e.lang.createFolder:e.lang.renameFolder,l,r?e.lang.create:e.lang.rename,s,(function(){var e=$(this);e.find("#__text-control").trigger("select").on("keydown",(function(t){if(13===t.keyCode)return t.stopPropagation(),t.preventDefault(),e.dialog("close"),s(e),!1}))}))},notice:function(n,i,a){i=t.includes(["success","warning","error","info"],i)?i:"info";var o=(a=void 0===a||!!a)?'<button type="button" class="zumedia-button zumedia-notice__dismiss has-icon" aria-label="Dismiss this notice">\n\t\t\t\t<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="-2 -2 24 24" role="img" aria-hidden="true" focusable="false">\n\t\t\t\t\t<path d="M14.95 6.46L11.41 10l3.54 3.54-1.41 1.41L10 11.42l-3.53 3.53-1.42-1.42L8.58 10 5.05 6.47l1.42-1.42L10 8.58l3.54-3.53z"></path>\n\t\t\t\t</svg>\n\t\t\t</button>':"",r=t.uniqueId("mfs"),d=$(`<div id="${r}" class="zumedia-notice is-${i}${a?" is-dismissible":""}">\n\t\t        <div class="zumedia-notice__content">${n}</div>${o}\n\t\t    </div>`);0===$(".zumedia-notice-list").length&&$(e.$do.ds.wrapper).before('<div class="zumedia-notice-list"></div>'),$(".zumedia-notice-list").append(d),a&&$(`#${r} button`).on("click",(function(){$(this).parent().remove()}))}}};!function($,e){var t={options:{hide_root:!1,root_icon:!1,icons:{edit:"dashicons-edit-large",delete:"dashicons-trash",back:"dashicons-editor-break",breadcrumb:"dashicons-arrow-right-alt2",home:"dashicons-admin-home",folder:"dashicons-images-alt"},category_shift:"&nbsp;&nbsp;&nbsp;",anim_speed:200,anim_easing:"swing"},lang:{createFolder:"Create Folder",backButton:"Back"},isTable:!1,isGrid:!1,isLibrary:!1,isPost:!1,isBoxedMode:!1};"undefined"!=typeof zumedia_folders&&void 0!==zumedia_folders.data&&$.extend(!0,t,zumedia_folders.data),void 0!==t.categories&&(t.isLibrary="library"===t.page,t.isPost="post"===t.page,t.isGrid="grid"===t.viewmode,t.isTable="table"===t.viewmode,t.isBoxedMode=e.get(t,["options","boxed"],!1),$.extend(t,{$de:$m1(e)}),$.extend(t,{$ic:$m2(e)}),$.extend(t,{$do:$m6(t,$,e)}),$.extend(t,{$ca:$m9(t,$,e)}),$.extend(t,{$wm:$m7(t,$,e)}),$.extend(t,{$dd:$m8(t,$,e)}),$.extend(t,{$ax:$m10(t,$,e)}),$.extend(t,{$us:$m11(t,$,e)}),t.refreshFolders=function(e){t.$do.wrapAll()&&(t.$do.addButton(t.$ca.create),t.$do.cat.refresh(e),t.$ca.selected())},$(document).ready((function(){if(t.isGrid){if(!1===t.$wm.init())return;t.$wm.addCategoryFilter(),t.$wm.onBrowserReady(),t.$wm.onModal(),t.$wm.onGalleryEditMode(),t.$wm.onCollectionEdit(),t.$wm.onUploaderEvents()}else t.$do.wrapAll()&&(t.$do.addButton(t.$ca.create),t.$do.cat.refresh(),t.$ca.onChange())})))}(jQuery,lodash);