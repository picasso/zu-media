var $m1=function(e){var t={mods:{ignoreNext:!1,consoleDir:!1,forseNil:!1},colors:{same:!1,trace:!1,info:!1,data:!1,render:!1,use:!1}},n="#a79635",i="#e56a17",a="#1f993f",o="#0091ff",r="#0070c9",d="#a79635",l="#e50039",s="#cc0096",c="#ffffff",f="#ffd580",u="#e50039",p="#ff2020";function m(n,i,a){var o=n[0],r=n[1]||"",d=n[2]||"",l=i[0],m=i[1]||"",v=i[2]||null,h=t.colors.info?console.info:console.log;o.startsWith("?")&&(l=p),o.startsWith("!")&&(l=s),o.startsWith("#")&&(v=u,m=f,l=c),t.colors.same&&(m=l);var $=v?`font-weight: normal; padding: 3px 0 3px 3px; background: ${v}; color: ${l}`:`font-weight: normal; color: ${l}`,g=v?`font-weight: bold; padding: 3px 0 3px 3px; background: ${v}; color: ${m}`:`font-weight: bold; color: ${m}`,C=v?`font-weight: normal; padding: 3px 10px 3px 0; background: ${v}; color: ${l}`:`font-weight: normal; color: ${l}`;o=v?o.trim():o,r=v?r.trim():r,d=v?d.trim():d,o.startsWith("!")&&(o=o.replace(/^!/,""),$=$.replace("normal","bold"),C=C.replace("normal","bold"),h=console.info),o.startsWith("?")&&(o=o.replace(/^\?/,""),$=$.replace("normal","bold"),C=C.replace("normal","bold")),o.startsWith("#")&&(o=o.replace(/^#/," ★★★ ").replace(/[.]+$/,""),$=$.replace("normal","bold"),C=C.replace("normal","bold"),r?d&&(d+=" ★★★ "):o+=" ★★★ "),t.mods.forseNil||void 0!==a?t.mods.consoleDir?(r&&m?h("%c%s%c%s%c%s%c",$,o,g,r,$,d,v?C:""):h("%c%s ",$,o),console.dir(a)):r&&m?h("%c%s%c%s%c%s%c",$,o,g,r,$,d,v?C:"",a):h("%c%s ",$,o,a):r&&m?h("%c%s%c%s%c%s%c",$,o,g,r,$,d,v?C:""):h("%c%s ",$,o),t.colors=e.mapValues(t.colors,(function(){return!1})),t.mods=e.mapValues(t.mods,(function(){return!1}))}return{log:function(s,c){if(e.isString(s)||void 0!==c||(c=s,s="!"),s){s=s.trim();var f=[(v=n,t.colors.info?r:t.colors.data?d:t.colors.trace?l:t.colors.render?a:t.colors.use?o:v),i,null],u=/\[\s*([^\]]+)]/i;if(u.test(s)){var p=u.exec(s);m([s.replace(p[0],"[ "),p[1]," ]"],f,c)}else m([s],f,c)}var v}}},$m2=function(e){var t,n="mfs-",i=24,a={plus:"M17,12.981 L17,11 L13,11 L13,7 L11,7 L11,11 L7,11 L7,13 L11,13 L11,17 L13,17 L13,13 L17,13 z M17.433,5.002 Q18.053,5.002 18.526,5.475 Q19,5.949 19,6.569 L19,17.433 Q19,18.053 18.526,18.526 Q18.053,19 17.433,19 L6.568,19 Q5.912,19 5.456,18.544 Q5,18.088 5,17.432 L5,6.568 Q5,5.912 5.456,5.456 Q5.912,5 6.568,5 L17.433,5 z",minus:"M17,13 L17,11 L7,11 L7,13 L17,13 z M17.433,5.002 Q18.053,5.002 18.526,5.475 Q19,5.949 19,6.569 L19,17.433 Q19,18.053 18.526,18.526 Q18.053,19 17.433,19 L6.568,19 Q5.912,19 5.456,18.544 Q5,18.088 5,17.432 L5,6.568 Q5,5.912 5.456,5.456 Q5.912,5 6.568,5 L17.433,5 z",closed:"M9.984 3.984l2.016 2.016h8.016q0.797 0 1.383 0.609t0.586 1.406v9.984q0 0.797-0.586 1.406t-1.383 0.609h-16.031q-0.797 0-1.383-0.609t-0.586-1.406v-12q0-0.797 0.586-1.406t1.383-0.609h6z",opened:"M20.016 18v-9.984h-16.031v9.984h16.031zM20.016 6q0.797 0 1.383 0.609t0.586 1.406v9.984q0 0.797-0.586 1.406t-1.383 0.609h-16.031q-0.797 0-1.383-0.609t-0.586-1.406v-12q0-0.797 0.586-1.406t1.383-0.609h6l2.016 2.016h8.016z",home:{size:80,paths:[{id:"border",d:"M55.996,35.996 C63.996,35.996 67.996,59.996 67.996,59.996 L11.996,59.996 C11.996,59.996 16,43.996 23.999,43.996 C32.002,43.996 31.998,47.996 37.998,47.996 C43.998,47.996 47.997,35.996 55.996,35.996 z M55.996,39.996 C53.476,39.996 51.113,42.584 48.605,45.332 C45.761,48.456 42.546,51.996 37.994,51.996 C34.139,51.996 31.902,50.708 30.115,49.676 C28.495,48.736 27.219,47.996 23.995,47.996 C21.767,47.996 19.284,51.864 17.547,56 L63.112,56 C61.076,47.212 57.797,40.2 55.996,39.996 z M26,23.996 C29.308,23.996 32,26.688 32,29.996 C32,33.304 29.308,35.996 26,35.996 C22.692,35.996 20,33.304 20,29.996 C20,26.688 22.692,23.996 26,23.996 z M26,19.996 L26,19.996 C20.476,19.996 16,24.472 16,29.996 C16,35.52 20.476,39.996 26,39.996 C31.524,39.996 36,35.52 36,29.996 C36,24.472 31.524,19.996 26,19.996 z"},{id:"sunset",d:"M26.022,38.702 C21.225,38.702 17.335,34.813 17.335,30.016 C17.335,25.218 21.225,21.329 26.022,21.329 C30.819,21.329 34.708,25.218 34.708,30.016 C34.708,34.813 30.819,38.702 26.022,38.702 z M56.973,38.702 C54.211,38.702 51.635,40.03 48.886,43.395 C45.769,47.221 42.693,50.883 37.704,50.883 C33.477,50.883 31.376,49.151 29.417,47.888 C27.641,46.737 26.161,46.69 22.627,46.69 C20.185,46.69 16.957,51.834 15.054,56.898 L64.994,56.898 C62.763,46.137 58.946,39.052 56.973,38.802",color:"#DA2C41",className:"accent"},{id:"frame",d:"M71.999,8 C76.416,8 80,11.584 80,16 L80,64.001 C80,68.417 76.416,72 71.999,72 L8,72 C3.584,72 0,68.417 -0,64.001 L-0,16 C0,11.584 3.584,8 8,8 L71.999,8 z M72.012,16 L8,16 L8,64.001 L72,64.001 L72.012,16 z"}]},close:{origin:-2,size:24,paths:[{d:"M14.95 6.46L11.41 10l3.54 3.54-1.41 1.41L10 11.42l-3.53 3.53-1.42-1.42L8.58 10 5.05 6.47l1.42-1.42L10 8.58l3.54-3.53z"}]}},o={zu:'<path d="M300,32.352 L300,24.141 C300,10.808 289.191,-0 275.859,-0 L24.141,-0 C10.809,-0 0,10.808 0,24.141 L0,459.451 L600,459.451 L600,56.493 C600,43.16 589.191,32.352 575.859,32.352 L300,32.352" fill="#FBE36F" id="back"/>\n\t\t<path d="M26.636,67.138 L578.972,67.138 L578.972,463.866 L26.636,463.866 z" fill="#FFFFFF" id="paper"/>\n\t\t<path d="M291.443,114.664 L282.536,139.358 L24.141,139.358 C10.809,139.358 0,150.166 0,163.499 L0,470.859 C0,484.192 10.809,495 24.141,495 L575.859,495 C589.191,495 600,484.192 600,470.859 L600,122.855 C600,109.522 589.191,98.714 575.859,98.714 L314.152,98.714 C303.978,98.714 294.895,105.093 291.443,114.664" fill="#F6D33D" id="cover"/>\n\t\t<path d="M600,470.859 L600,270.468 C433.343,432.574 144.274,475.949 6.712,487.534 C11.106,492.126 17.283,495 24.141,495 L575.858,495 C589.191,495 600,484.191 600,470.859" fill="#F1C73F" id="dark"/>\n\t\t<path d="M243.654,158.788 L39.632,158.788 C28.866,158.788 20.139,167.516 20.139,178.282 L20.139,221.462 C54.457,197.951 131.896,168.335 243.654,158.788" fill="#F8DC47" id="light"/>',mac:'<path d="M88.022,-0 C66.716,-0 58.037,9.476 58.037,30.793 L58.037,30.793 C58.037,50.775 35.858,43.707 33.073,72.642 L33.073,72.642 L567.644,72.642 C566.73,56.015 560.414,47.376 540.169,47.376 L540.169,47.376 L278.983,47.376 C270.305,47.376 256.888,45.794 256.888,32.372 L256.888,32.372 C256.888,10.262 249.786,-0 225.327,-0 L225.327,-0 z" fill="#F1C73F" id="dark"/>\n\t\t<path d="M30.724,72.642 C6.649,72.642 -1.448,87.693 0.215,106.072 L0.215,106.072 C0.215,106.072 7.735,188.725 10.205,238.461 L10.205,238.461 C12.658,288.205 15.341,461.014 15.341,461.014 L15.341,461.014 C15.341,492.231 14.935,494.768 49.661,494.768 L49.661,494.768 L551.3,495 C584.067,495 585.068,495.168 585.068,461.61 L585.068,461.61 C585.068,461.61 585.559,331.953 590.182,258.589 L590.182,258.589 C594.806,185.251 599.875,106.153 599.875,106.153 L599.875,106.153 C601.049,87.713 593.718,72.642 568.473,72.642 L568.473,72.642 z" fill="#F6D33C" id="cover"/>\n\t\t<path d="M504.449,72.642 C385.243,87.638 268.682,120.878 157.637,166.424 C107.025,187.184 57.347,210.512 10.197,238.311 C7.744,194.173 4.205,150.096 0.215,106.072 C-1.448,87.694 6.648,72.642 30.723,72.642 L504.449,72.642 z" fill="#FBE36E" id="light"/>',simple:'<path d="M540,60 L270,60 L210,0 L60,0 C27,0 0,27 0,60 L0,180 L600,180 L600,120 C600,87 573,60 540,60 z" fill="#F1C73F" id="dark"/>\n\t\t<path d="M600,470.859 C600,484.192 589.191,495 575.859,495 L540.004,495 L540,495 L60,495 L59.996,495 L24.141,495 C10.809,495 0,484.192 0,470.859 L0,120 C0,87 27,60 60,60 L540,60 C573,60 600,87 600,120 L600,470.859 z" fill="#F6D33C" id="cover"/>\n\t\t<path d="M402,60 C401.333,60 402,60 402,60 L60,70 C32.523,70 10,92.523 10,120 L0,420 L0,420 L0,120 C0,87 27,60 60,60 L402,60 z" fill="#FFFFFF" fill-opacity="0.5" id="border"/>',open:'<path d="M566.381,49.868 L290.862,49.868 C290.862,49.868 280.043,34.578 272.124,23.53 C264.206,12.484 257.07,-0 238.504,-0 L141.634,-0 C123.068,-0 108.015,4.965 108.015,23.53 L108.015,49.868 L95.703,49.868 C77.135,49.868 62.083,64.92 62.083,83.483 L62.083,461.383 C62.083,479.948 77.135,495 95.703,495 L566.381,495 C584.947,495 599.999,479.948 599.999,461.383 L599.999,83.483 C599.999,64.92 584.947,49.868 566.381,49.868" fill="#F1C73F" id="dark"/>\n\t\t<path d="M92.342,74.518 L569.744,74.518 L569.744,477.343 L92.342,477.343 z" fill="#FFFFFE" id="paper"/>\n\t\t<path d="M0.424,131.602 C-2.518,115.237 10.153,101.972 28.718,101.972 L499.398,101.972 C517.964,101.972 535.402,115.237 538.343,131.602 L599.576,465.368 C602.518,481.731 589.849,495 571.282,495 L100.604,495 C82.037,495 64.601,481.731 61.659,465.368 L0.424,131.602" fill="#F6D33C" id="cover"/>',pack:'<path d="M292.165,35.218 L292.165,14.277 C292.165,6.425 285.736,0 277.879,0 L64.07,0 C56.213,0 49.784,6.425 49.784,14.277 L49.784,35.218 C49.784,35.218 32.15,35.218 27.174,35.218 C22.199,35.218 13.73,41.643 13.594,49.494 L14.553,449.728 C14.417,457.578 20.736,464.014 28.593,464.02 L574.44,464.02 C582.297,464.028 588.644,457.625 588.547,449.775 L586.401,49.494 C586.304,41.641 579.797,35.218 571.94,35.218 L292.165,35.218 z" fill="#F1C73F" id="dark"/>\n\t\t<path d="M557.493,457.86 L42.504,457.86 L41.076,52.489 L558.921,52.489 z" fill="#EAEAEA" id="paper"/>\n\t\t<path d="M557.493,461.86 L42.504,461.86 L32.504,75.05 L567.493,75.05 z" fill="#D5D5D5" id="paper-dark"/>\n\t\t<path d="M587.87,480.755 C587.733,488.608 581.196,495.019 573.338,495 L27.49,495 C19.633,494.98 12.259,487.607 12.123,479.758 L-0,114.274 C-0.136,106.423 6.181,100 14.039,100 L585.958,100 C593.816,100 600.133,106.425 599.996,114.276 L587.87,480.755 z" fill="#F6D33C" id="cover"/>'},r={home:function(){return d("home",a.home,!0)},close:function(){return d("close",a.close,!0)}};function d(t,i,a){var o=[],r=void 0!==i.origin?i.origin:0;return e.each(i.paths||[],(function(t){var n=e.has(t,"color")?` fill=${t.color}`:"",i=e.has(t,"className")?` class=${t.className}`:"",a=e.has(t,"id")?` id=${t.id}`:"";o.push(`<path d="${t.d}"${a}${n}${i}></path>`)})),a?e.join(o,""):`<symbol viewBox="${r} ${r} ${i.size} ${i.size}" id="${n}${t}">\n\t\t\t\t${e.join(o,"")}\n\t\t\t</symbol>`}function l(t,o){if(!e.has(!0===o?a:r,t))return"";var d=function(t){return e.has(a,t)&&a[t].size?[void 0!==a[t].origin?a[t].origin:0,a[t].size]:[0,i]}(t),l=!0===o?`<use href="#${n}${t}"></use>`:r[t]();return`<svg\n\t\t\t\tclass="${n}svg ${n}${t}"\n\t\t\t\trole="img"\n\t\t\t\taria-labelledby="title"\n\t\t\t\tviewBox="${d[0]} ${d[0]} ${d[1]} ${d[1]}"\n\t\t\t\tpreserveAspectRatio="xMidYMin slice"\n\t\t\t>\n\t\t\t\t${l}\n\t\t\t</svg>`}return{collection:function(){var t=[];return e.each(a||[],(function(a,o){t.push(e.isString(a)?function(e,t){return`<symbol viewBox="0 0 ${i} ${i}" id="${n}${e}"><path d="${t}"></path></symbol>`}(o,a):d(o,a))})),`<svg style="display:none;" xmlns="http://www.w3.org/2000/svg">${e.join(t,"")}</svg>`},svg:l,icon:function(e){return l(e,!0)},folders:(t={},e.each(o,(function(n,i){t[i]=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0,0,600,495"><g>${e.trim(n).replace(/>\s+</gm,"><")}</g></svg>`})),t)}},$m3=function(e,t,n,i,a){var o=i.prefix,r=e.options,d=`${o}-tree`,l=`${o}-node`,s=`${o}-row`,c=`${o}-holder`,f=`${o}-expandable`,u=`${o}-item`,p=`${o}-icon`,m=`#${d}`,v=`> .${l}`,h=`.${s}`,$=`> .${s} > .${f}`,g=`> .${s} > .${p}`,C=`> .${s} > .${u}`,b=`.${p}`;i.tree_item=u,a.tree=m;var w=t();function L(){return 0===(w=t(m)).length}function x(){var n=t(F(0,0,e.lang.rootTree||"Root",!0,!0));n.addClass("mfs-root").find(h).addClass("mfs-root-row").end().find($).remove(),r.hide_root&&n.find(h).hide(),r.root_icon&&n.find(`${g} > div`).html(e.$ic.svg("home")),w.append(n),A(0)}function _(e){return w.find(`li[data-id="${e}"]`)}function y(e,t){if(void 0!==t&&t.prevIndex!==t.nextIndex)if(-1===t.beforeId){var n=e.data("parent_id");e.prependTo(_(n).find(v))}else e.insertAfter(_(t.beforeId))}function k(e,t){if(!L()){var i=[];n.each(t||[],(function(t){i.push(F(t.id,t.parentId,t.name,t.id===e,0==t.children,t.meta))})),_(e).find(h).after(`<ul class="${l}" style="display: none;">\n\t\t\t\t${n.join(i,"")}\n\t\t\t</ul>`),function(e){if(L())return;n.each(e||[],(function(e){A(e.id)}))}(t)}}function F(t,n,i,a,o,r){return`<li class="${`collapsed${!0===a?" selected":""} ${e.$do.colorClass(r)}`}" data-id="${t}" data-parent_id="${n}">\n\t\t\t\t<div class="${s}">\n\t\t\t\t\t<div class="${f}" data-id="${t}" data-parent_id="${n}" data-type="dir" ${`style="opacity:${o?0:1};"`}>\n\t\t\t\t\t\t<div class="${c}">${e.$ic.icon("minus")}${e.$ic.icon("plus")}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="${p} ${!0===a?"opened":"closed"}">\n\t\t\t\t\t\t<div class="${c}">${e.$ic.icon("opened")}${e.$ic.icon("closed")}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<a class="${u}" data-id="${t}" data-parent_id="${n}" data-type="dir">${i}</a>\n\t\t\t\t</div>\n\t\t\t</li>`}function M(e){_(e).removeClass("wait").removeClass("collapsed").addClass("expanded").find(v).slideDown(r.anim_speed,r.anim_easing,(function(){t(this).trigger("afteropen"),t(this).trigger("afterupdate")}))}function z(e){_(e).removeClass("expanded").addClass("collapsed").find(v).slideUp(r.anim_speed,r.anim_easing,(function(){t(this).trigger("afterclose"),t(this).trigger("afterupdate")}))}function I(e){L()||(w.find("li").removeClass("selected"),w.find(b).removeClass("opened").addClass("closed"),_(e).addClass("selected").find(g).removeClass("closed").addClass("opened"))}function B(e,t){_(e).find($).css({opacity:t?1:0})}function A(n){_(n).find(C).off("click").on("click",(function(n){n.preventDefault(),n.stopPropagation();var i=t(this).data("id");e.$ca.selected(i)})),_(n).find($).off("click").on("click",(function(e){e.preventDefault(),e.stopPropagation();var n=t(this).parents("li"),i=n.data("id");n.hasClass("collapsed")?M(i):z(i)}))}function D(t){for(var n=e.$ca.withParents();n;)M(n.id),n=n.parent;I(t)}return{init:function(){if(L()){var n=`${e.$ic.collection()}<ul id="${d}" class="${l}${r.colored_tree?" __colors":""}"></ul>`;e.isPost?t(".media-menu").append(n):t(a.browser).before(n),function(){if(L())return;x(),e.$ca.walk((function(e){k(e.id,e.children),B(e.id,null!==e.children&&e.children.length>0)})),e.$dd.updateTree(),D(r.selectedId||0)}()}},root:x,add:k,append:function(e,t,n,i,a){var o=F(e,t,n);(void 0===a?_(t).find(v):_(a).parent()).append(o),y(_(e),i),A(e)},remove:function(e){_(e).remove()},rename:function(e,t,n){var i=_(e);i.find(C).html(t),y(i,n)},color:function(t,n){_(t).alterClass("folders-*",e.$do.colorClass(n))},wait:function(e){_(e).addClass("wait")},expand:M,collapse:z,select:I,open:D,icon:B,isWaiting:function(e){var t=_(e);return t.hasClass("expanded")||t.hasClass("wait")}}},$m4=function(e,t,n,i,a){var o=`${i.prefix}-categories`,r=`${i.prefix}-media-category`,d=`${a.frame} .${o}`,l=`${a.frame} select.${o} option`,s=null;function c(e){return t(`${l}[data-id="${e}"]`)}function f(){var n=t(d);e.$ca.walk((function(e){n.append(c(e.id))}))}function u(){var n=t(this).find("option:selected").data("id")||0;e.$ca.onChange(n)}return{remove:function(e){c(e).remove()},rename:function(t,n,i){c(t).html(e.options.category_shift.repeat(i.depth)+n),f()},move:f,select:function(e,n){t(l).prop("selected",!1);var i=c(e);i.prop("selected",!0),n&&i.parent().trigger("change")},refresh:function(i){t(d).find("option").each((function(){var n=t(this),i=n.val();n.attr("data-id",i),n.attr("data-parent_id",e.$ca.parentOf(i))})),f(),e.isGrid?(t(d).off("change",u).on("change",u),function(i){if(i&&null!==s&&(s.disconnect(),s=null),null===s){var o=window.MutationObserver||window.WebKitMutationObserver;s=new o((function(e){var i=!1;e.forEach((function(e){-1===n.findIndex(e.addedNodes,d)&&-1===n.findIndex(e.removedNodes,d)||(i=!0)})),i&&t(a.attachments_wrapper).trigger("updated")}));var r=t(a.attachments_wrapper);if(0===r.length)return s.disconnect(),void(s=null);s.observe(r[0],{childList:!0,subtree:!0,attributes:!1,characterData:!1}),r.off("updated").on("updated",(function(){e.$dd.updateItems()}))}function d(e){return e.tagName&&"li"===e.tagName.toLowerCase()&&n.includes(e.classList,"attachment")}}(i)):(e.$dd.updateItems(),t(d).on("change",(function(){t(this).parents("form").submit()})))},destroy:function(){t(d).remove()},params:{name:o,id:r}}},$m5=function(e,t,n,i,a){var o=e.options.icons,r=["red","yellow","gold","magenta","green","wp","blue","default"],d=e.isBoxedMode?"":e.$ic.folders[o.svg]||"",l=e.isBoxedMode?"":` ${o.svg}`,s=`${i.prefix}-folder`,c=`${i.prefix}-folder-preview`,f=e.isBoxedMode?"__boxed":"__svg",u=`${i.prefix}-back`,p=`__back icon dashicons ${o.back}`,m=`${i.prefix}-icon`,v=`${i.prefix}-locked`,h=e.isBoxedMode?`${m} icon dashicons ${o.folder}`:`${m} ${i.prefix}-folder-svg ${o.svg}`,$=`${i.prefix}-folder-name`,g=`${i.prefix}-actions`,C=`${i.prefix}-actions-holder`,b=`__edit dashicons ${o.edit}`,w=`__delete dashicons ${o.delete}`,L=`__color dashicons ${o.color}`,x=`__lock dashicons ${o.lock}`,_=`__lock dashicons ${o.unlock}`,y=`${i.prefix}-colors`,k=`__locked dashicons ${o.lock}`,F=`${a.frame} .${s}`,M=`li.${s}`,z=`.${u}`,I=`.${c}`,B=`.${m}`,A=".__locked",D=`.${$} > div`,N=`.${g}`,G=`.${g} .__edit`,P=`.${g} .__delete`,E=`.${g} .__color`,T=`.${g} .__lock`,Q=`#${y}`;function q(e){return t(`${F}[data-id="${e}"]`)}function j(e,n){if(void 0!==n&&n.prevIndex!==n.nextIndex)if(-1===n.beforeId){var i=t(F).filter(z);0===i.length?e.prependTo(t(a.browser)):e.insertAfter(i)}else e.insertAfter(q(n.beforeId))}function O(){return`\n\t\t\t<div class="${g}${l}">\n\t\t\t\t<div class="${C}">\n\t\t\t\t\t<span class="${x}"></span>\n\t\t\t\t\t<span class="${L}"></span>\n\t\t\t\t\t<span class="${b}"></span>\n\t\t\t\t\t<span class="${w}"></span>\n\t\t\t\t</div>\n\t\t\t</div>`}function U(n){var i=`<li class="${s} ${u}" data-id="${n}" style="display:none;">\n\t\t\t\t<div class="${c} ${f}">\n\t\t\t\t\t<div class="${p}"></div>\n\t\t\t\t\t<div class="${k}"></div>\n\t\t\t\t\t<div class="${$}">\n\t\t\t\t\t\t<div>${e.lang.backButton}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</li>`;t(i).appendTo(t(a.browser)).fadeIn("fast"),R(n)}function S(n,i,o,r,l,u){o=void 0===o?0:o,t(a.browser).append(`<li class="${s}" data-id="${n}" data-parent_id="${o}" style="display:none;">\n\t\t\t\t<div class="${c} ${f} ${e.$do.colorClass(u)}">\n\t\t\t\t\t<div class="${h}">${d}</div>\n\t\t\t\t\t<div class="${k}"></div>\n\t\t\t\t\t<div class="${$}">\n\t\t\t\t\t\t<div>${i}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t${O()}\n\t\t\t\t </div>\n\t\t\t</li>`),j(q(n).fadeIn("fast"),l),W(n,u),r&&R(n)}function W(e,t){var n=!(!t||!t.lock);q(e).toggleClass(v,n).find(T).removeClass().addClass(n?_:x)}function R(i){var a=t(void 0===i?F:`${F}[data-id="${i}"]`);a.off("click").on("click",(function(n){n.preventDefault(),n.stopPropagation();var i=t(this);i.hasClass("ui-draggable-dragging")||i.parents(M).hasClass("ui-draggable-dragging")||e.$ca.selected(i.data("id"))})),a.find(G).off("click").on("click",(function(n){n.preventDefault(),n.stopPropagation();var i=t(this).parents(M);e.$us.promptName(i.find(D).html(),(function(t){var n=i.data("id"),a=i.data("parent_id");e.$ax.editFolder(n,a,t)}))})),a.find(P).off("click").on("click",(function(n){n.preventDefault(),n.stopPropagation();var i=t(this).parents(M),a=i.find(D).text();e.$us.confirmDelete(a,(function(){var t=i.data("id"),n=i.data("parent_id");e.$ax.deleteFolder(t,n)}))})),a.find(E).off("click").on("click",(function(i){i.preventDefault(),i.stopPropagation();var a=t(this).parents(M),o=function(){var i=t(Q);if(0===i.length){var a=n.map(r,(function(e){return`<span class="${"default"===e?"dashicons dashicons-no-alt":`bg-${e}`}" data-value="${e}"></span>`}));(i=t(`<div id="${y}" class="__tools __colors${l}" style="display: none;">${a.join("")}</div>`)).appendTo("body"),i.on("click",(function(e){e.preventDefault(),e.stopPropagation()})),i.on("click","span",(function(n){n.preventDefault(),n.stopPropagation();var i=t(this).data("value"),a=t(Q).parents(M).data("id");e.$ax.metaFolder(a,"color","default"===i?null:i),t(Q).slideUp(300)}))}return i}();a.has(o).length?o.is(":visible")?o.slideUp(300):o.slideDown("fast"):(o.appendTo(a.find(I)).slideDown("fast"),a.on("mouseleave",(function(){o.fadeOut("fast")})))})),a.find(T).off("click").on("click",(function(n){n.preventDefault(),n.stopPropagation();var i=t(this).parents(M),a=i.data("id"),o=i.hasClass(v);e.$ax.metaFolder(a,"lock",!o)}))}return i.folder=s,a.folder=F,a.back=z,a.preview=I,a.preview_name=D,{addBack:U,add:S,remove:function(e){q(e).fadeOut("fast",(function(){t(this).remove()}))},rename:function(e,t,n){var i=q(e);i.find(D).html(t),j(i,n)},color:function(t,n){q(t).find(I).alterClass("folders-*",e.$do.colorClass(n))},lock:W,init:function(i){if(i&&0!==i.length){var a=t(F).not(z);n.each(i,(function(n,i){if(i<a.length){var o=!(!n.meta||!n.meta.lock),r=t(a[i]);r.attr("data-id",n.id).data("id",n.id).attr("data-parent_id",n.parentId).data("parent_id",n.parentId).removeClass(v).find(I).alterClass("folders-*",e.$do.colorClass(n)).end().find(D).html(n.name).end().find(T).removeClass().addClass(o?_:x),setTimeout((function(){r.find(A).show(),r.toggleClass(v,o)}),300)}else S(n.id,n.name,n.parentId,void 0,void 0,n.meta)})),R(),e.$dd.updateWithoutTree()}},clear:function(n,i){var a=0!==n,o=e.$ca.parentOf(n),r=t(F),l=r.filter(z);e.$dd.clean(r),r.find(A).hide(),r.length>(a?i+1:i)&&r.slice(a?i+1:i,r.length).fadeOut("fast",(function(){t(this).remove()})),!a&&l.length&&function(e){e.removeClass(u).find(".__back").removeClass().addClass(h).html(d).parent().append(O())}(l),a&&(0===r.length?U(o):function(t,n,i){n&&n.length?n.attr("data-id",t).data("id",t):i.attr("data-id",t).data("id",t).removeClass(v).addClass(u).find(B).removeClass().addClass(p).html(null).end().find(D).html(e.lang.backButton).end().find(N).remove()}(o,l,r.first()))},bindClicks:R}},$m6=function(e,t,n){var i="mfs",a=e.options.color||"wp",o=".mfs-wrapper",r=".mfs-browser",d=".mfs-breadcrumb",l=e.isGrid?"ul.attachments":"table.wp-list-table",s=e.isGrid?".media-frame:visible":"",c="td .media-icon",f={prefix:i},u={wrapper:o,browser:r,attachments_wrapper:l,attachments:e.isGrid?`${l} .attachment`:`${l} td .media-icon`,frame:s,table_icon:c},p=`&nbsp;&nbsp;<span class="dashicons ${e.options.icons.breadcrumb}"></span>&nbsp;&nbsp;`,m=`<span class="dashicons ${e.options.icons.home}"></span>&nbsp;&nbsp;`;return t.fn.alterClass=function(e,n){var i=this;if(!e||-1===e.indexOf("*"))return i.removeClass(e),n?i.addClass(n):i;var a=new RegExp("\\s"+e.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g");return i.each((function(e,n){for(var i=" "+n.className+" ";a.test(i);)i=i.replace(a," ");n.className=t.trim(i)})),n?i.addClass(n):i},{cs:f,ds:u,tree:$m3(e,t,n,f,u),cat:$m4(e,t,n,f,u),box:$m5(e,t,n,f,u),colorClass:function(e){return void 0===e?`folders-${a}`:e.meta?`folders-${e.meta.color||a}`:`folders-${e.color||a}`},wrapAll:function(){var n=e.isGrid?t(s):t(document);if(0===n.find(".mfs-wrapper:visible .mfs-browser").length){n.find(".mfs-browser, .mfs-breadcrumb").remove(),n.find(e.isGrid?l:".tablenav.top").before('<ul class="mfs-browser"></ul>\n\t\t\t\t<div class="mfs-clear"></div>');var i=e.isGrid?`${l}, .mfs-browser, .mfs-clear`:".mfs-browser, .mfs-clear";return n.find(i).wrapAll(`<div class="mfs-wrapper __${e.isBoxedMode?"boxed":"svg"}-mode"></div>`),n.find(o).prepend('<ul class="mfs-breadcrumb"></ul>'),!0}return!1},addButton:function(i){if(!e.isPost){var a=t();0===t("#mfs-add-folder").length&&(a=t(`<button\n\t\t\t\t\tid="mfs-add-folder"\n\t\t\t\t\ttype="button"\n\t\t\t\t\tclass="button media-button button-secondary${e.isGrid?"":" __table"}"\n\t\t\t\t\t>${e.lang.createFolder}</button>`),e.isGrid?t(`${s} .media-frame-content .media-toolbar-secondary .spinner`).before(a):t(".wp-filter .actions").after(a)),a.length&&n.isFunction(i)&&a.on("click",i)}},alterBreadcrumb:function(){for(var n=e.$ca.withParents(),i="",a=n.id;n;){var o=0===n.id?e.lang.rootTree:n.name,r=`<a data-id="${n.id}"${n.id===a?' class="selected"':""}>${o}</a>`;i=`<li>${0===n.id?m:p}${r}</li>${i}`,n=n.parent}t(d).html(null).prepend(i).find("a").on("click",(function(){var n=t(this).data("id");e.$ca.selected(n)}))},inlineUploader:function(){function i(){var n=t(".media-frame .uploader-inline");n.length&&(n.css({marginTop:t(r).outerHeight(!0)+t(d).outerHeight(!0),opacity:1}),e.$de.log("?InlineUploader -> opacity: 1"))}e.isPost&&(t(window).resize(n.throttle(i,100)),i())},fixURL:function(){if(e.isGrid){var n=t(".media-grid-view-switch .view-list");if(n.length){var i=n.attr("href")||"",a=i.split("?");if(a.length>=2){for(var o=encodeURIComponent("zumedia_folders")+"=",r=a[1].split(/[&;]/g),d=r.length;d-- >0;)-1!==r[d].lastIndexOf(o,0)&&r.splice(d,1);i=a[0]+(r.length>0?"?"+r.join("&"):""),n.attr("href",i)}}}},moveAttachments:function(n){e.isGrid?t(".media-toolbar-mode-select .select-mode-toggle-button").trigger("click"):(t.each(n.split(","),(function(e,n){t(`#the-list #post-${n}`).hide()})),t('#the-list input[name="media[]"]').prop("checked",!1))}}},$m7=function(e,t){var n=e.$ca,i=null,a=null,o=null,r=null,d=null,l={modal:!1,edit:!1};function s(){return!("undefined"==typeof wp||void 0===wp.media)}function c(){return s()&&void 0!==wp.media.frame}function f(){return c()?wp.media.frame.content.get():null}function u(e){var t=f(),n=e&&c()?wp.media.frame.library:null;return null!==t?t.collection||null:n||null}function p(e){e&&(r=i.AttachmentsBrowser),i.AttachmentsBrowser=e?o:r}function m(){t("#menu-item-gallery-edit").trigger("click")}function v(){var t={};n.walk((function(n,i){t[n.id]={text:e.options.category_shift.repeat(i)+n.name,props:{term_id:n.id,[e.query_marker]:!0}}})),this.filters=t}return String.prototype.repeat=function(e){var t="",n=this.valueOf();if(e<1)return t;for(;e>1;)1&e&&(t+=n),e>>=1,n+=n;return t+n},{init:function(){return!!s()&&(i=wp.media.view,a=wp.media.controller,!0)},invalidateQuery:function(){var e=u(!0);null!==e&&e.props.set({updated:+new Date})},resetSelection:function(){var e=f(),t=null===e?void 0:e.options.selection;t&&t.reset()},addCategoryFilter:function(){null!==i&&(i.AttachmentFilters.Folders=null,i.AttachmentFilters.Folders=i.AttachmentFilters.extend({className:`${e.$do.cat.params.name} attachment-filters`,id:e.$do.cat.params.id,createFilters:v}),function(){function e(e){e.toolbar.set("media-folders",new i.AttachmentFilters.Folders({controller:e.controller,model:e.collection.props,priority:-75}).render())}null===o&&(o=i.AttachmentsBrowser),d?e(d):i.AttachmentsBrowser=i.AttachmentsBrowser.extend({createToolbar:function(){wp.media.model.Query.defaultArgs.filterSource="filter-attachment-category",o.prototype.createToolbar.apply(this,arguments),d=this,e(this)}})}())},onBrowserReady:function(){null!==i&&i.AttachmentsBrowser.prototype.on("ready",(function(){e.$do.fixURL(),e.refreshFolders()}))},onGalleryEditMode:function(){var e=wp.media.controller.GalleryEdit;wp.media.controller.GalleryEdit=wp.media.controller.GalleryEdit.extend({activate:function(){l.edit=!0,p(!0),e.prototype.activate.apply(this,arguments)},deactivate:function(){l.edit=!1,p(!1),e.prototype.deactivate.apply(this,arguments)}})},onUploaderEvents:function(){var t=wp.Uploader;void 0!==t&&void 0!==t.queue&&(t.queue.on("reset",(function(){var t=u();t&&t.trigger("reset",t),e.$ca.invalidate()})),t.queue.on("add",(function(e){var t=wp.media.frame.content;t&&("upload"===t.mode()&&t.mode("browse"),t.get("autoSelect")&&(t.get("selection").collection.add(e),wp.media.frame.trigger("library:selection:add")))})))},onModal:function(){var e=i.Modal;i.Modal=i.Modal.extend({open:function(){e.prototype.open.apply(this,arguments),l.modal=!0,!1===l.edit&&m()},close:function(){e.prototype.close.apply(this,arguments),l.modal=!1}})},onCollectionEdit:function(){var t=a.CollectionEdit;a.CollectionEdit=a.CollectionEdit.extend({activate:function(){e.$de.log("!CollectionEdit","activate"),t.prototype.activate.apply(this,arguments)},deactivate:function(){e.$de.log("!CollectionEdit","deactivate"),t.prototype.deactivate.apply(this,arguments)}})},extendLibrary:function(){if(null!==a){var t=wp.media.controller.Library;wp.media.controller.Library=wp.media.controller.Library.extend({refreshContent:function(){e.$de.log("!extendLibrary"),t.prototype.refreshContent.apply(this,arguments)}})}}}},$m8=function(e,t,n){var i=e.$do.cs,a=e.$do.ds,o=`${i.prefix}-dragging-over`,r=`${i.prefix}-dragging-count`,d=`${i.prefix}-dragging-stack`,l="is-droppable",s=i.folder,c=i.tree_item,f=".is-droppable",u=`.${r}`,p=`.${c}`,m=a.frame,v=a.tree,h=a.wrapper,$=a.browser,g=a.attachments,C=a.attachments_wrapper,b=a.table_icon,w=a.folder,L=a.back,x=a.preview,_=a.preview_name,y={revert:!0,distance:1,containment:e.isGrid?".media-frame-content":"#posts-filter",start:function(e,n){M(n,!0),t(this).draggable("instance").offset.click=z(n.helper)},stop:function(e,t){M(t,!1)},drag:function(n,i){!function(n){var i=(e.isGrid?t(`${m} ${v}`):t(v)).add(p).hasClass(l);n.helper.toggleClass(o,i)}(i)},animate:{duration:200,easing:"swing"}};function k(e){if(void 0!==t.ui){var n=t(void 0===e?w:`${w}[data-id="${e}"]`).not(L);n.length>0&&(A(n,"draggable"),n.draggable({revert:y.revert,distance:y.distance,containment:y.containment,cursorAt:z(n),helper:"clone",drag:y.drag,start:y.start,stop:y.stop}))}}function F(i,a){if(void 0!==t.ui){var r=n.isNil(i)?[w,p]:[`${w}[data-id="${i}"]`,`${p}[data-id="${i}"]`],d=t(r[0]).not(L).add(a?null:r[1]);(d=d.add(n.isNil(i)&&!a?v:null)).length>0&&(A(d,"droppable"),d.droppable({hoverClass:l,accept:function(n){if(t(this).is(v))return!0;var i=t(this).data("id");if(n.hasClass(s)){var a=n.data("id"),o=n.data("parent_id"),r=t(this).data("parent_id");return a!==i&&a!==r&&o!==i}return!(!n.hasClass("attachment")&&!n.hasClass("media-icon"))&&i!==e.$ca.id()},over:function(){I(this,!0)},out:function(){I(this,!1)},drop:function(i,a){var r=t(this);if(I(this,!1),!function(e,n){var i=t(v);if(e.is(i))return 0===i.children().find(f).length&&n.helper.removeClass(o),!0;return!1}(r,a)){var d=r.data("id"),l=a.draggable.data("id");if(a.draggable.hasClass(s)){var c=a.draggable.find(_).html();B(null,a,(function(){e.$ax.moveFolder(l,c,d)}))}else{var u=a.helper.data("ids");if(void 0!==u){var p=t();n.each(n.split(u,","),(function(e){p=p.add(`${g}[data-id="${e}"]`)})),B(p,a,(function(){e.$ax.moveFiles(u,d)}))}}}}}))}}function M(i,a){function o(i,a,o){var r=n.isNil(o),d=r?a.data("id"):o,l=t(`${r?w:g}[data-id="${d}"]`);e.isTable&&(l=t(`${C} input[value="${d}"]`).parents("tr").find(b)),l.not(a)[i?"addClass":"removeClass"]("is-dragging")}void 0===i.helper.data("ids")?o(a,i.helper):n.each(i.helper.data("ids").split(",")||[],(function(e){o(a,i.helper,e)}))}function z(e){var t=e.first().width(),n=e.first().height();return{top:Math.floor(t/2),left:Math.floor(n/2)}}function I(e,n){t(e).hasClass(c)&&t(e).prev().toggleClass(l,!!n)}function B(e,n,i){var a=n.helper.clone().appendTo(null===e?$:h);n.helper.hide(),null!==e?(e.find(".check").remove(),a.find(u).animate({opacity:0},{duration:y.animate.duration/2,easing:y.animate.easing,queue:!1,complete:function(){t(this).remove()}}),a.children().first().animate({width:0,height:0},{duration:y.animate.duration,easing:y.animate.easing,queue:!1,complete:function(){a.remove()}}),e.not(n.helper).animate({width:0},{duration:y.animate.duration,easing:y.animate.easing,queue:!1}).promise().done((function(){e.remove(),i()}))):a.find(x).animate({width:0,opacity:0},{duration:y.animate.duration,easing:y.animate.easing,queue:!1}).promise().done((function(){a.remove(),i()}))}function A(e,i){var a=n.isNil(e)?t(".ui-draggable").add(".ui-droppable").not(".ui-draggable-dragging"):e.not(".ui-draggable-dragging");void 0!==i&&"draggable"!==i||a.filter((function(){return t(this).draggable("instance")})).draggable("destroy"),void 0!==i&&"droppable"!==i||a.filter((function(){return t(this).droppable("instance")})).droppable("destroy")}return{clean:e.isPost?n.noop:A,update:e.isPost?n.noop:function(e){k(e),F(e)},updateTree:e.isPost?n.noop:function(){F()},updateWithoutTree:e.isPost?n.noop:function(){k(),F(null,!0)},updateItems:e.isPost?n.noop:function(){if(void 0!==t.ui){var n=t(g).not(".uploading");n.length>0&&(A(n,"draggable"),n.draggable({revert:y.revert,distance:y.distance,containment:y.containment,cursorAt:z(n),appendTo:h,helper:function(){
var i=n.parents("tr").find('input[name="media[]"]:checked').parents("tr").find(b),a=t(this).add(e.isGrid?n.filter(".selected"):i),o=[];return a.each((function(){var n=t(this).parents("tr").find('input[name="media[]"]').val();o.push(e.isGrid?t(this).data("id"):n)})),function(n,i){var a=n.first(),o=n.length>1?`<div class="${r}"><span>${n.length}</span></div>`:null,l=e.isGrid?n.find(".attachment-preview"):n,s=t("<div></div>").addClass("attachment").width(a.width()).height(a.height()).addClass(d).append(l.slice(0,3).clone()).append(o).wrapInner('<div><div class="__stack"></div></div>').data("ids",i.join(","));1===n.length&&s.addClass("__single");return s}(a,o)},drag:y.drag,start:y.start,stop:y.stop}))}}}},$m9=function(e,t,n){var i,a=e.$do,o=[],r={id:0,depth:0,parentId:0,name:e.categories[0].label},d=e.options.selectedId||0,l=null,s=[];function c(e){return n.sortBy(e,["name"])}function f(e,t,i,a,o){void 0===o&&(o={}),n.each(t,(function(r){if("delete"===e){if(r.id===i.id)return o.item=r,n.pull(t,r),0===t.length&&(a.children=null),!1;if(null!==r.children&&(f(e,r.children,i,r,o),void 0!==o.item))return!1}if("update"===e){if(r.id===i.id)return o.prevIndex=n.findIndex(t,{id:i.id}),n.merge(r,i),a.children=c(t),o.nextIndex=n.findIndex(a.children,{id:i.id}),o.beforeId=0===o.nextIndex?-1:a.children[o.nextIndex-1].id,!1;if(null!==r.children){if(o.depth++,f(e,r.children,i,r,o),void 0!==o.beforeId)return!1;o.depth--}}if("add"===e){if(r.id===i.parentId)return null===r.children&&(r.children=[]),r.children.push(n.merge({children:null},i)),r.children=c(r.children),o.nextIndex=n.findIndex(r.children,{id:i.id}),o.beforeId=0===o.nextIndex?-1:r.children[o.nextIndex-1].id,!1;if(null!==r.children&&(f(e,r.children,i,r,o),void 0!==o.beforeId))return!1}if("get"===e){if(r.id===i.id)return o.item=r,!1;if(null!==r.children){if(o.depth++,f(e,r.children,i,r,o),void 0!==o.item)return!1;o.depth--}}if("reverse"===e){if(r.id===i.id)return o.item=n.clone(r),o.item.parent=o.parent,!1;if(null!==r.children){var d=n.clone(r);if(d.parent=o.parent,o.parent=d,o.depth++,f(e,r.children,i,r,o),void 0!==o.item)return!1;o.depth--,o.parent=n.get(o.parent,"parent",null)}}"walk"===e&&(n.isFunction(o.callback)&&o.callback(r,o.depth),null!==r.children&&(o.depth++,f(e,r.children,i,r,o),o.depth--))}))}function u(e,t,n){var i={};return f("add",o,{id:e,parentId:n,name:t},null,i),i}function p(e){var t={};return f("delete",o,{id:e},null,t),t.item}function m(e,t){var n={depth:0};return f("get",o,{id:e},null,n),!0===t?n:n.item}function v(e){return!(!e||!e.children)&&e.children.length>0}function h(e,t){var i;return i=e,!n.isNaN(parseFloat(i))&&isFinite(i)&&(e=parseInt(e,10)),t=n.isNil(t)?$():t,n.isNil(e)?t:e}function $(){return d}function g(t,i){t=n.map(n.castArray(t),(function(e){return h(e)})),s=n.union(s,t),i&&e.$dd.updateItems()}function C(t){e.isGrid&&n.includes(s,t)&&(e.$wm.invalidateQuery(),n.pull(s,t))}return i=e.categories,o=[{id:0,parentId:0,name:e.lang.treeSelect||"No Categories",meta:{},children:null}],n.each(i,(function(e){var t={id:e.id,parentId:e.parent_id,name:e.label,meta:e.meta};0!==e.id&&f("add",o,t,null,{})})),{add:function(t,n,i){var o=u(t,i,n);e.$do.cat.destroy(),e.$wm.addCategoryFilter(),e.$do.cat.refresh(),a.box.add(t,i,n,!0,o),a.tree.append(t,n,i,o),a.tree.icon(n,!0),a.tree.icon(t,!1),e.$dd.update(t)},create:function(){e.$us.promptName((function(t){e.$ax.addFolder(e.$ca.id(),t)}))},remove:function(t,n,i){p(t),a.cat.remove(t),a.box.remove(t),a.tree.remove(t),a.tree.icon(n,i?0:1),e.isGrid&&wp.Uploader.queue.reset()},rename:function(e,t){var n=function(e,t){var n={depth:0};return f("update",o,{id:e,name:t},null,n),n}(e,t);a.cat.rename(e,t,n),a.box.rename(e,t,n),a.tree.rename(e,t,n)},meta:function(e,t,n){!function(e,t){var n={depth:0};f("update",o,{id:e,meta:t},null,n)}(e,n),"color"===t?(a.box.color(e,n),a.tree.color(e,n)):"lock"===t&&a.box.lock(e,n)},move:function(t,n){var i=p(t),o=u(i.id,i.name,n),r=m(i.parentId);a.box.remove(t),a.tree.remove(t),a.tree.append(t,n,i.name,o),a.cat.rename(t,i.name,o),a.tree.icon(n,!0),a.tree.icon(t,v(i)),a.tree.icon(r.id,v(r)),e.$dd.update(t)},moveItems:function(e,t){g([null,t]),a.moveAttachments(e)},get:m,walk:function(e){var t={callback:n.isFunction(e)?e:n.noop,depth:0};f("walk",o,{},null,t)},invalidate:g,id:$,parentOf:function(e){return e=h(e),null!==l&&l.id===e||(l=m(e)||r),l.parentId},withParents:function(e){return function(e,t){var n={depth:0,parent:null};return f("reverse",o,{id:e},null,n),!0===t?n:n.item}(e=h(e))},onChange:function(t){var n;t=h(t),n=h(n=t,0),d!==n&&(e.$ax.selectFolder(n),d=n),e.$wm.resetSelection(),C(t);var i=m(t);a.tree.init(t),a.box.clear(t,v(i)?i.children.length:0),a.box.init(i&&i.children),a.alterBreadcrumb(),a.tree.open(t),e.$dd.updateWithoutTree(),a.inlineUploader()},selected:function(e){var t=h(e);C(t),a.cat.select(t,!0)}}},$m10=function(e,t,n){var i=e.$ca;function a(i,a,r,d){n.merge(i,{nonce:e.ajax_nonce,action:"folders_action"}),t.ajax({type:"POST",url:e.ajaxurl,dataType:"json",data:n.omitBy(i,n.isNull),beforeSend:n.isFunction(r)?r:n.noop,context:d}).done((function(e){!function(e,t){var i=n.get(e,"data");if(!0===n.get(i,"status"))return void(n.isFunction(t)&&t(i));o(i)}(e,a)})).fail((function(e,t,n){o({textStatus:t,errorThrown:n,jqXHR:e})}))}function o(t,i,a){n.isPlainObject(t)&&(i=n.has(t,"message")?t.message:"Unknown error",a=n.has(t,"params")?t.params:[],t=t.status||-1),n.isEmpty(a)||(i=`${i} [ ${n.isArray(a)?n.join(a,","):a} ]`),e.$us.notice(i,"error",!0)}function r(e){i.add(e.id,e.parent_id,e.name)}function d(e){i.rename(e.id,e.name)}function l(e){i.meta(e.id,e.key,e.meta)}function s(e){i.remove(e.id,e.parent_id,e.is_empty)}function c(e){i.move(e.id,e.receiving_id)}function f(e){i.moveItems(e.ids,e.receiving_id)}return{addFolder:function(e,t){a({operation:"add_folder",name:t,parent_id:e},r)},editFolder:function(e,t,n){a({operation:"edit_folder",id:e,name:n,parent_id:t},d)},metaFolder:function(e,t,n){a({operation:"meta_folder",id:e,meta:t,value:n},l)},deleteFolder:function(e,t){a({operation:"delete_folder",id:e,parent_id:t},s)},moveFolder:function(e,t,n){a({operation:"move_folder",id:e,name:t,receiving_id:n},c)},moveFiles:function(e,t){a({operation:"move_files",ids:e,receiving_id:t},f)},selectFolder:function(e){a({operation:"select_folder",id:e},null)}}},$m11=function(e,t,n){var i=`${e.$do.cs.prefix}-dialog`,a=`#${i}`;function o(o,r,d,l,s){var c=t(a);0===c.length&&(t("body").append(`<div id="${i}" style="display:none;"><div class="__wrapper"></div></div>`),c=t(a)),c.find(".__wrapper").html(r),c.dialog({autoOpen:!0,title:o,modal:!0,resizable:!1,draggable:!1,closeText:"",focus:s||n.noop,open:function(){t(".ui-dialog").find(".ui-dialog-titlebar-close").append(e.$ic.svg("close"))},buttons:[{text:d||"Ok",class:"zumedia-button is-primary",click:function(){t(this).dialog("close"),n.isFunction(l)&&l(this)}},{text:"Cancel",class:"zumedia-button is-secondary",click:function(){t(this).dialog("close")}}]})}return{confirmDelete:function(t,n){var i=e.lang.deleteAlert.replace("%s",`<strong>${t}</strong>`);o(e.lang.deleteFolder,i,e.lang.delete,n)},promptName:function(i,a){n.isFunction(i)&&(a=i,i=null);var r=n.isNil(i),d=`<div class="__field">\n\t\t\t\t<label class="__label" for="__text-control">${r?e.lang.createAlert:e.lang.renameAlert}</label>\n\t\t\t\t<input class="__input" type="text" id="__text-control" autofocus="true" value="${i||e.lang.createPrompt}">\n\t\t\t</div>`,l=function(e){var i=t(e).find("#__text-control").val();!n.isEmpty(i)&&n.isFunction(a)&&a(i)};o(r?e.lang.createFolder:e.lang.renameFolder,d,r?e.lang.create:e.lang.rename,l,(function(){var e=t(this);e.find("#__text-control").trigger("select").on("keydown",(function(t){if(13===t.keyCode)return t.stopPropagation(),t.preventDefault(),e.dialog("close"),l(e),!1}))}))},notice:function(i,a,o){a=n.includes(["success","warning","error","info"],a)?a:"info";var r=(o=void 0===o||!!o)?'<button type="button" class="zumedia-button zumedia-notice__dismiss has-icon" aria-label="Dismiss this notice">\n\t\t\t\t<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="-2 -2 24 24" role="img" aria-hidden="true" focusable="false">\n\t\t\t\t\t<path d="M14.95 6.46L11.41 10l3.54 3.54-1.41 1.41L10 11.42l-3.53 3.53-1.42-1.42L8.58 10 5.05 6.47l1.42-1.42L10 8.58l3.54-3.53z"></path>\n\t\t\t\t</svg>\n\t\t\t</button>':"",d=n.uniqueId("mfs"),l=t(`<div id="${d}" class="zumedia-notice is-${a}${o?" is-dismissible":""}">\n\t\t        <div class="zumedia-notice__content">${i}</div>${r}\n\t\t    </div>`);0===t(".zumedia-notice-list").length&&t(e.$do.ds.wrapper).before('<div class="zumedia-notice-list"></div>'),t(".zumedia-notice-list").append(l),o&&t(`#${d} button`).on("click",(function(){t(this).parent().remove()}))}}};!function(e,t){var n={options:{hide_root:!1,root_icon:!1,icons:{edit:"dashicons-edit-large",delete:"dashicons-trash",back:"dashicons-editor-break",breadcrumb:"dashicons-arrow-right-alt2",home:"dashicons-admin-home",folder:"dashicons-images-alt"},category_shift:"&nbsp;&nbsp;&nbsp;",anim_speed:200,anim_easing:"swing"},lang:{createFolder:"Create Folder",backButton:"Back"},isTable:!1,isGrid:!1,isLibrary:!1,isPost:!1,isBoxedMode:!1};"undefined"!=typeof zumedia_folders&&void 0!==zumedia_folders.data&&e.extend(!0,n,zumedia_folders.data),void 0!==n.categories&&(n.isLibrary="library"===n.page,n.isPost="post"===n.page,n.isGrid="grid"===n.viewmode,n.isTable="table"===n.viewmode,n.isBoxedMode=t.get(n,["options","boxed"],!1),e.extend(n,{$de:$m1(t)}),e.extend(n,{$ic:$m2(t)}),e.extend(n,{$do:$m6(n,e,t)}),e.extend(n,{$ca:$m9(n,e,t)}),e.extend(n,{$wm:$m7(n,e,t)}),e.extend(n,{$dd:$m8(n,e,t)}),e.extend(n,{$ax:$m10(n,e,t)}),e.extend(n,{$us:$m11(n,e,t)}),n.refreshFolders=function(e){n.$do.wrapAll()&&(n.$do.addButton(n.$ca.create),n.$do.cat.refresh(e),n.$ca.selected())},e(document).ready((function(){if(n.isGrid){if(!1===n.$wm.init())return;n.$wm.addCategoryFilter(),n.$wm.onBrowserReady(),n.$wm.onModal(),n.$wm.onGalleryEditMode(),n.$wm.onCollectionEdit(),n.$wm.onUploaderEvents()}else n.$do.wrapAll()&&(n.$do.addButton(n.$ca.create),n.$do.cat.refresh(),n.$ca.onChange())})))}(jQuery,lodash);